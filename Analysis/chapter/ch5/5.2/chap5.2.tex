\section{Derivatives and the IVP}

\subsection{Definition of the Derivative}

\begin{tcolorbox}
    \begin{defn}[Differentiability]
    Let \( g : A \to \R  \) be a function defined on an interval \( A  \). Given \( c \in A  \), the \textit{derivative} of \( g  \) at \( c  \) is defined by 
    \[ g'(c) = \lim_{ x \to c } \frac{ g(x) - g(c)  }{ x - c  }, \]
    provided this limit exists. In this case, we say that \( g  \) is \textit{differentiable} at \( c  \). If \( g'  \) exists for all points \( c \in A  \), we say that \( g  \) is \textit{differentible} on \( A  \).
    \end{defn}
\end{tcolorbox}


\begin{ex}
\begin{enumerate}
    \item[(i)] Consider the function \( f(x) = x^n  \), where \( n \in \N  \), and let \( c  \) be any arbitrary point in \( \R  \). Using the following identity, 
        \[  x^n - c^n = (x -c )(x^{n-1} + cx^{n-2} + c^2 x^{n-3} + \dots + c^{n-1}) \]
        we can take the limit 
        \begin{align*}
            f'(c) &= \lim_{ x \to c  } \frac{ x^n - c^n  }{ x - c  }  \\
                  &= \lim_{ x \to c } (x^{n-1} + cx^{n-2} + c^2 x^{n-3} + \dots + c^{n-1}) \\
                  &= c^{n-1} + c^{n-1} + c^{n-1} + \dots + c^{n-1} \\
                  &= nc^{n-1}\\
        \end{align*}
    \item[(ii)] If \( g(x) = | x  |  \), then if we want to take the derivative at \( c =0  \) produces the following limit
        \[  g'(0) = \lim_{ x \to 0 } \frac{ | x |  }{ x }  \]
        which is \( 1 \) if we approach from the right and \( -1 \) if we approach from the left. Hence, we have that \(g'(c) =  0  \) does not exist.
\end{enumerate}
\end{ex}

This last example should remind us that continuity of a function does not necessarily imply that a function is differentiable. On the other hand, we can say that if \( g \) is differentiable at a point then \( g  \) is continuous at that point. 

\begin{tcolorbox}
\begin{thm}
If \( g: A \to \R  \) is differentiable at a point \( c \in A  \), then \( g  \) is continuous at \( c  \) as well.
\end{thm}
\end{tcolorbox}

\begin{proof}
Assume \( g: A \to \R  \) is differentiable at a point \( c \in A  \). Hence, we have that the following limit exists
    \[ g'(c) = \lim_{ x \to c } \frac{ g(x) - g(c)  }{ x - c  }. \]
    Using the Algebraic Limit Theorem for functional limits, we have that 
    \[  \lim_{ x \to c  } (g(x) - g(c) ) = \lim_{ x \to c  } \Big( \frac{ g(x) - g(c)  }{ x - c  }  \Big) (x - c) = g'(c) \cdot 0 = 0. \]
    Hence, it follows that \( \lim_{ x \to c  } g(x) = g(c). \)
\end{proof}

We can prove the same fact using the epsilon-delta definition for functional limits. 
\begin{proof}
Assume \( g: A \to \R  \) is differentiable at at a point \( c \in A  \). Let \( \epsilon > 0  \). Then we can find a \( \delta > 0  \) such that whenever \( 0 < | x - c  | < \delta  \), we have that
    \[ g'(c) = \lim_{ x \to c } \frac{ g(x) - g(c)  }{ x - c  }. \]
    With a few algebraic manipulations, we can manipulate the above to state that
    \[  | g(x) - g(c) - g(c)(x-c)  | <  | x - c  | \tag{1}  \]
    with \( \epsilon = 1  \).
Using the triangle inequality and choosing \( \delta = \min \{ 1 , \epsilon / (1   + | g(c) | ) \}  \) 
\begin{align*}
    | g(x) - g(c)  | &= | g(x) - g(c)(x-c) + g(c)(x-c) -  g(c) |  \\
                     &\leq | g(x) - g(c)(x-c) | + | g(c)(x-c) - g(c) | \\
                     &< | x - c  | + | g(c)  | | x - c  | \\
                     &= | x - c  | (1 + | g(c) | ) \\
                     &<  \delta \cdot (1 + | g(c)  | ) \\
                     &= \frac{ \epsilon  }{ 1 + | g(c)  |  }  \cdot (1 + | g(c)  | ) \\
                     &= \epsilon.
\end{align*}
Hence, \( g  \) is continuous at \( c \in A  \).
\end{proof}

\subsection{Combinations of Differentiable Functions}

We can use the Algebraic Limit Theorem for functional limits to prove some basic algebraic combinations of differentiable functions.

\begin{tcolorbox}
    \begin{thm}[Algebraic Differentiability Theorem]
    Let \( f  \) and \( g  \) be functions defined on an interval \( A  \), and assume both are differentiable at some point \( c \in A \). Then, 
    \begin{enumerate}
        \item[(i)] \( (f+g)'(c) = f'(c) + g'(c), \)
        \item[(ii)] \( (kf)'(c) = kf'(c), \) for all \( k \in \R  \),
        \item[(iii)] \( (fg)'(c) = f'(c)g(c) + f(c)g'(c),  \) and 
        \item[(iv)] \( (f/g)'(c) = \frac{ g(c)f'(c) - f(c)g'(c)  }{ [g(c)]^2 }  \) provided that \( g(c) \neq  0 \).
    \end{enumerate}
    \end{thm}
\end{tcolorbox}

\begin{enumerate}
    \item[(i)] \( (f+g)'(c) = f'(c) + g'(c)  \).
        \begin{proof}
        Assume \( f  \) and \( g  \) are functions that are both differentiable at some point \( c \in A  \). Since \( (f+g)(x) = f(x) + g(x)  \) and the Algebraic Function Limit Theorem, we have that
        \begin{align*}
            (f+g)'(x) &= \lim_{ x \to c } \frac{ (f+g)(x) - (f+g)(c) }{ x - c  }  \\
                      &= \lim_{ x \to c } \frac{ f(x) + g(x) - (f(c) + g(c) ) }{ x - c  } \\
                      &= \lim_{ x \to c  } \frac{ ( f(x) - f(c)) + (g(x) - g(c)) }{ x - c  } \\
                      &= \lim_{ x \to c  } \Big(  \frac{ f(x) - f(c)  }{ x - c  } + \frac{ g(x) - g(c)   }{ x - c  }  \Big) \\
                      &= \lim_{ x \to c  }  \frac{ f(x) - f(c)  }{ x - c  } + \lim_{ x \to c  } \frac{ g(x) - g(c)  }{ x - c  } \\
                      &= f'(c) + g'(c).
        \end{align*}
        \end{proof}
    \item[(ii)] \( (kf)'(c) = k f'(c)  \) for all \( k \in \R  \).
        \begin{proof}
        Since \( f  \) is differentiable at \( c \in A  \), we have that 
        \begin{align*}
            (kf)'(c) &= \lim_{ x \to c  } \frac{ (kf)(x) - (kf)(c)  }{ x - c  }  \\
                     &= \lim_{ x \to c  }  \frac{ k f(x) - k f(c)  }{ x - c  } \\
                     &= \lim_{ x \to c  } \frac{ k (f(x) - f(c) ) }{ x - c  } \\
                     &=k \cdot  \lim_{ x \to c  } \frac{ f(x) - f(c) }{ x - c  } \\
                     &= k f'(c).
        \end{align*}
        \end{proof}
    \item[(iii)] \( (fg)'(c)  = f'(c)g(c) + f(c)g'(c). \)
        \begin{proof}
        Let \( f  \) and \( g  \) be differentiable at some point \( c \in A  \).  By using the Algebraic Function Limit Theorem, we have that 
        \begin{align*}
            (fg)'(c)  &= \lim_{ x \to c  } \frac{ (fg)(x) - (fg)(c) }{ x - c  }  \\
                      &= \lim_{ x \to c  } \frac{ f(x)g(x) - f(c)g(c)  }{ x - c  } \\
                      &= \lim_{ x \to c  } \frac{ f(x)g(x) - f(x)g(c) + f(x)g(c) - f(c)g(c) }{ x - c   } \\
                      &= \lim_{ x \to c  }  \Big(  \frac{ f(x) (g(x) - g(c))  }{ x - c   }  + \frac{  g(c) (f(x) - f(c))  }{ x - c  } \Big) \\ 
                      &= \lim_{ x \to c  } \frac{ f(x) (g(x) - g(c) ) }{ x - c  } + \lim_{ x \to c  } \frac{ g(c) (f(x) - f(c) ) }{ x - c  } \tag{ALFT} \\ 
                      &= \lim_{ x \to c  } f(x)  \Big( \lim_{ x \to c  } \frac{ g(x) - g(c)  }{ x - c  }  \Big) + g(c) \cdot \lim_{ x \to c  } \frac{ f(x) - f(c)  }{ x - c  }   \\
                      &= f(c) g'(c) + g(c)f'(c).
        \end{align*}
        Hence, we have that \( (fg)'(c) = f(c)g'(c) + f'(c)g(c) \).
        \end{proof}
    \item[(iv)] \( (f/g)'(c) = \frac{ g(c)f'(c) - f(c)g'(c)  }{ [g(c)]^2  }  \).
        \begin{proof}
        Let \( f  \) and \( g  \) be differentiable functions where \( g(x) \neq 0  \) for all \( x \in A   \). Note that since \(f \) and \( g  \) are differentiable, they are also continuous on \( A  \). Hence, \( \lim_{ x \to c  } f(x) = f(c)  \) and \( \lim_{ x \to c  } g(x) = g(c)  \). Then observe that 
        \begin{align*}
            (f/g)'(c) &= \lim_{ x \to c  } \frac{ (f/g)(x) - (f/g)(c)  }{ x - c  }  \\
                      &= \lim_{ x \to c  } \frac{ f(x) / g(x) - f(c) / g(c)  }{ x - c  } \\
                      &= \lim_{ x \to c  } \Big[ \frac{ 1 }{ g(x) g(c)  } \cdot \frac{ g(x) (f(x) - f(c)) - f(x) (g(x) - g(c) ) }{ x - c   } \Big] \\ 
                      &= \lim_{ x  \to c  } \Big( \frac{ 1 }{ g(x) g(c) }  \Big) \lim_{ x \to c  } \Big( \frac{ g(x) (f(x) - f(c) )  - f(x) (g(x) - g(c) )}{ x - c  }  \Big) \\
                      &= \lim_{ x \to c  } \Big( \frac{ 1 }{ g(x) g(c)  }  \Big) \lim_{ x \to c  } \Big( g(x) \frac{ f(x) - f(c)  }{ x - c  } - f(x) \frac{ g(x) - g(c)  }{ x - c  }  \Big) \\
                      &= \lim_{ x \to c  } \Big( \frac{ 1 }{ g(x) g(c)  }   \Big) \Big( \lim_{ x \to c  } g(x) \frac{ f(x) - f(c)  }{ x - c  } - \lim_{ x \to c  } f(x) \frac{ g(x) - g(c)  }{ x - c  }  \Big) \\
                      &= \frac{ 1 }{ [g(c)]^2  } \cdot (g(c) f'(c) - f(c)g'(c) ). \\ 
        \end{align*}
        \end{proof}
\end{enumerate}

We can also compose two differentiable functions together and still get a differentiable function. This next fact is called the chain rule. A way to prove this fact is to use the following:
\begin{align*}
   (g \circ f)'(c) &= \lim_{ x \to c  } \frac{ g(f(x)) - g(f(c) ) }{ x - c  }  \\
                   &= \lim_{ x \to c  } \frac{ g(f(x) ) - g(f(c) ) }{ x - c  } \\
                   &= g'(f(c) ) \cdot f'(c).
\end{align*}
But an issue with this proof is that the expression \( f(x) - f(c)  \) might be zero in the denominator for arbitrarily small neighborhoods of \( c  \).

\begin{tcolorbox}
    \begin{thm}[Chain Rule]
    Let \( f: A \to \R  \) and \( g: B \to \R  \) satisfy \( f(A) \subseteq B  \) so that the composition \(  g  \circ f \) is defined. If \( f  \) is differentiable at \( c \in A  \) and if \( g  \) is differentiable at \( f(c) \in B   \), then \( g \circ f  \) is differentiable at \( c  \) with \( (g \circ f)'(c) = g'(f(c)) \cdot f'(c)\).
    \end{thm}
\end{tcolorbox}

\begin{proof}
Assume \( g  \) is differentiable at \( f(c)  \). Then we have that 
\[  g'(f(c) )  = \lim_{ y  \to f(c)  }  \frac{ g(y) - g(f(c)) }{ y - f(c)  }.\]
We can rewrite the quotient in the limit above by setting \( d(y)  \) to be the following:
\[  d(y) = \frac{ g(y) -  g(f(c) ) }{ y - f(c)  }. \]
This is equivalent to \( \lim_{ y \to f(c)  } d(y) = g'(f(c) ) \). The issue at the moment is when we set \( y = f(c)   \), \( d(y)  \) becomes undefined. But this can be mitigated by rewriting \( d(y)  \) like 
\[  g(y) - g(f(c)) = d(y) (y - f(c)) \tag{1} \]
which hold for all \( y \in B  \) including \( y = f(c)  \). Hence, we are allowed to substitute \( y = f(t)  \) for any arbitrary \( t \in A  \) into \( d(y)  \). If \( t \neq c  \), we can divide (1) by \( (t - c ) \) to get 
\[  \frac{ g(f(t) - g(f(c) )) }{ t - c  } = d(f(t)) \frac{ f(t) - f(c)  }{ t - c  }. \]
Hence, we have that 
\begin{align*}
    (g \circ f)'(c) &= \lim_{ x \to c  }  \frac{ g(f(x)) - g(f(c)) }{ x - c   } \\
                    &= \lim_{ x \to c  } \Big( \frac{ g(f(x))  - g(f(c) )}{f(x) - f(c)  } \cdot \frac{ f(x) - f(c) }{ x - c  } \Big) \\
                    &= g'(f(c)) \cdot f'(c)
\end{align*}
\end{proof}

\subsection{Darboux's Theorem}

A takeaway from our introduction to Derivatives is that differentiable functions need always be continuous and that our main example for this is for \( n = 2  \) with the function \( g_2(x) = x^2 \sin( 1 / x) \) where \( g_2(0)  \). However, differentiable functions do posses the intermediate value property. This leads us to next theorem that says that functions attain their max and mins at points where the derivative is zero. 

\begin{tcolorbox}
    \begin{thm}[Interior Extremum Theorem] Let \( f  \) be differentiable on an open interval \( (a,b)  \). If \( f  \) attains a maximum value at some point \( c \in (a,b)  \); that is, \( f(c) \geq f(x)  \) for all \( x \in (a,b)  \), then \( f'(c) = 0  \). The same is true if \( f(c)  \) is a minimum value.

\end{thm}
\end{tcolorbox}

\begin{proof}
    Since \( c  \) is in an open interval \( (a,b) \), we can construct two sequences \( (x_n), (y_n) \subseteq (a,b)  \) such that both sequences converge to \( c \in (a,b)  \) and satisfy \( x_n < c < y_n  \) for all \( n \in \N  \). Since \( f  \) attains its maximum value at some point \( c \in (a,b)  \), we have that for all \( n \in \N  \), \( f(y_n) \leq f(c)  \). Hence, we can say that 
    \[  f(y_n) - f(c) \leq 0. \]
    Dividing by \( (y_n - c ) \) and using the Order Limit Theorem gives us the following
    \[  f'(c) = \lim_{ n \to \infty   } \frac{ f(y_n) - f(c)  }{ y_n - c  } \leq 0 \tag{1}. \]
    Now if \( f  \) attains a minimum, we have \( f(x_n) - f(c) \geq 0  \) for all \( n \in \N  \) which implies further that 
    \[  f'(c) = \lim_{ n \to \infty  } \frac{ f(x_n) - f(c)  }{ x_n - c  } \geq 0 \]
    by the Order Limit Theorem.
\end{proof}

This theorem leads to a very important result about differntiable functions containing the intermediate value property.

\begin{tcolorbox}
    \begin{thm}[Darboux's Theorem]
    If \( f  \) is differentiable on an interval \( [a,b]  \), and if \( \alpha  \) satisfies \( f'(a) < \alpha < f'(b)  \) (or \( f'(a) > \alpha > f'(b)  \) ), then there exists a point \( c \in (a,b)  \) where \( f'(c) = \alpha \).
    \end{thm}
\end{tcolorbox}

\begin{proof}
    We can define a new function \( g(x) = f(x) - \alpha x  \) on \( [a,b]  \). Since \( g  \) is differentiable on \( [a,b]  \) with \( g'(x)  = f'(x) - \alpha  \) and that \( g'(a) < 0 < g'(b)  \), we want to show that \( g'(c) = 0  \) for some \( c \in (a,b)  \).
\end{proof}

\subsection{Exercises}


\subsubsection{Exercise 5.2.1} Supply proofs for parts (i) and (ii) of Theorem 5.2.4.
\begin{enumerate}
    \item[(i)] \( (f+g)'(c) = f'(c) + g'(c)  \).
        \begin{proof}
        Assume \( f  \) and \( g  \) are functions that are both differentiable at some point \( c \in A  \). Since \( (f+g)(x) = f(x) + g(x)  \) and the Algebraic Function Limit Theorem, we have that
        \begin{align*}
            (f+g)'(x) &= \lim_{ x \to c } \frac{ (f+g)(x) - (f+g)(c) }{ x - c  }  \\
                      &= \lim_{ x \to c } \frac{ f(x) + g(x) - (f(c) + g(c) ) }{ x - c  } \\
                      &= \lim_{ x \to c  } \frac{ ( f(x) - f(c)) + (g(x) - g(c)) }{ x - c  } \\
                      &= \lim_{ x \to c  } \Big(  \frac{ f(x) - f(c)  }{ x - c  } + \frac{ g(x) - g(c)   }{ x - c  }  \Big) \\
                      &= \lim_{ x \to c  }  \frac{ f(x) - f(c)  }{ x - c  } + \lim_{ x \to c  } \frac{ g(x) - g(c)  }{ x - c  } \\
                      &= f'(c) + g'(c).
        \end{align*}
        \end{proof}
    \item[(ii)] \( (kf)'(c) = k f'(c)  \) for all \( k \in \R  \).
        \begin{proof}
        Since \( f  \) is differentiable at \( c \in A  \), we have that 
        \begin{align*}
            (kf)'(c) &= \lim_{ x \to c  } \frac{ (kf)(x) - (kf)(c)  }{ x - c  }  \\
                     &= \lim_{ x \to c  }  \frac{ k f(x) - k f(c)  }{ x - c  } \\
                     &= \lim_{ x \to c  } \frac{ k (f(x) - f(c) ) }{ x - c  } \\
                     &=k \cdot  \lim_{ x \to c  } \frac{ f(x) - f(c) }{ x - c  } \\
                     &= k f'(c).
        \end{align*}
        \end{proof}
\end{enumerate}

\subsubsection{Exercise 5.2.2} Exactly one of the following requests is impossible. Decide which it is, and provide examples for the other three. In each case, let's assume the functions are defined on all of \( \R  \).

\begin{enumerate}
    \item[(a)] Functions \( f  \) and \( g  \) not differentiable at zero but where \( fg \) is differentiable at zero.
        \begin{proof}[Solution]
        Take \( g(x) = | x |  \) and \( f(x) = \frac{ 1 }{ | x |  }  \) where \( (fg)(x) = 1  \) is just a constant function that is differentiable everywhere (including zero).
        \end{proof}
    \item[(b)] A function \( f  \) not differentiable at zero and a function \( g  \) differentiable at zero where \( fg  \) is differentiable at zero.
        \begin{proof}[Solution]
        Take \( f(x) = \frac{ 1 }{ x }   \) and \( g(x) = x^2  \). Their product \( (fg)(x) = x  \) is differentiable at \( x = 0  \).
        \end{proof}
    \item[(c)] A function \( f  \) not differentiable at zero and a function \( g  \) differentiable at zero when \( f + g  \) is differentiable at zero.
        \begin{proof}[Solution]
        This is impossible since \( f = (f+g) - f   \) would be differentiable at zero.
        \end{proof}
    \item[(d)] A function \( f  \) is differentiable at zero but not differentiable at any other point.
        \begin{proof}[Solution]
        Let \( f(x)  \) be defined by the following:
        \[ f(x) = 
        \begin{cases}
            x^3 &\text{if } x \in \Q \\ 
            0 &\text{if } x \in \R \setminus \Q.
        \end{cases} \]
        \end{proof}
\end{enumerate}

\subsubsection{Exercise 5.2.3} 
\begin{enumerate}
    \item[(a)] Use the definition of the derivative to produce the proper formula for the derivative of \( h(x) = 1 / x  \).
        \begin{proof}
        Let \( h: A \to \R  \) be a function defined on an interval \( A  \). Let \( c \neq 0   \) in \( A  \) be arbitrary. Using the definition of the derivative, we have that 
        \begin{align*}
            h'(c) &= \lim_{ x \to c  } \frac{ h(x) - h(c)  }{ x - c  }  \\
                  &= \lim_{ x \to c  } \frac{ 1 /x  - 1/c }{ x -c   } \\
                  &= \lim_{ x \to c  } \frac{  -(x - c)  }{ xc  } \cdot \frac{ 1 }{ x - c  } \\
                  &= \lim_{ x \to c  } -\frac{ 1 }{ xc } \\
                  &= \frac{ -1 }{ c^2 }.
        \end{align*}
        Hence, we have that \( h'(c) = -1/c^2 \) for any \( c \neq 0  \) in \( A  \).
        \end{proof}
    \item[(b)] Combine the result in part (a) with the Chain Rule (Theorem 5.2.5) to supply a proof for part (iv) of Theorem 5.2.4.
        \begin{proof}
            Define \( h = (g)^{-1}  \). By the result in part (a) and the Chain Rule, we have that \( h'(c) = \frac{ -1 }{ [g(c)]^2 } \cdot g'(c)   \). Then by the Product Rule, we have that 
            \begin{align*}
                (f \cdot h)'(c) &= f'(c)h(c) + h'(c)f(c) \\
                                &= \frac{ f'(c)  }{ g(c)  } - \frac{ f(c) g'(c)  }{ [g(c)]^2 } \\ 
                                &= \frac{ f'(c) g(c) - f(c)g'(c)  }{ [g(c)]^2 }. 
            \end{align*}
        \end{proof}
        \item[(c)] Supply a direct proof of Theorem 5.2.4 (iv) by algebraically manipulating the difference quotient for \( (f/g)  \) in a style similar to the proof of Theorem 5.2.4 (ii).
            \begin{proof}
        Let \( f  \) and \( g  \) be differentiable functions where \( g(x) \neq 0  \) for all \( x \in A   \). Note that since \(f \) and \( g  \) are differentiable, they are also continuous on \( A  \). Hence, \( \lim_{ x \to c  } f(x) = f(c)  \) and \( \lim_{ x \to c  } g(x) = g(c)  \). Then observe that 
        \begin{align*}
            (f/g)'(c) &= \lim_{ x \to c  } \frac{ (f/g)(x) - (f/g)(c)  }{ x - c  }  \\
                      &= \lim_{ x \to c  } \frac{ f(x) / g(x) - f(c) / g(c)  }{ x - c  } \\
                      &= \lim_{ x \to c  } \Big[ \frac{ 1 }{ g(x) g(c)  } \cdot \frac{ g(x) (f(x) - f(c)) - f(x) (g(x) - g(c) ) }{ x - c   } \Big] \\ 
                      &= \lim_{ x  \to c  } \Big( \frac{ 1 }{ g(x) g(c) }  \Big) \lim_{ x \to c  } \Big( \frac{ g(x) (f(x) - f(c) )  - f(x) (g(x) - g(c) )}{ x - c  }  \Big) \\
                      &= \lim_{ x \to c  } \Big( \frac{ 1 }{ g(x) g(c)  }  \Big) \lim_{ x \to c  } \Big( g(x) \frac{ f(x) - f(c)  }{ x - c  } - f(x) \frac{ g(x) - g(c)  }{ x - c  }  \Big) \\
                      &= \lim_{ x \to c  } \Big( \frac{ 1 }{ g(x) g(c)  }   \Big) \Big( \lim_{ x \to c  } g(x) \frac{ f(x) - f(c)  }{ x - c  } - \lim_{ x \to c  } f(x) \frac{ g(x) - g(c)  }{ x - c  }  \Big) \\
                      &= \frac{ 1 }{ [g(c)]^2  } \cdot (g(c) f'(c) - f(c)g'(c) ). \\ 
        \end{align*}
            \end{proof}
\end{enumerate}

\subsubsection{Exercise 5.2.4} Follow these steps to provide a slightly modified proof of the Chain Rule.
\begin{enumerate}
    \item[(a)] Show that a function \( h: A \to \R  \) is differentiable at \( a \in A  \) if and only if there exists a function \( \ell : A \to \R  \) which is continuous at \( a  \) and satisfies 
        \[  h(x)  - h(a) = \ell (x) (x - a)  \] for all \( x \in A  \).
        \begin{proof}
            (\( \Rightarrow \)) Suppose \( h: A \to \R  \) is differentiable at \( a \in A \). We want to show that there exists \( \ell: A \to \R  \) which is continuous at \( a  \) and satisfies the following: 
            \[  h(x) - h(a) = \ell (x) (x - a ). \]
            Since \( h  \) is differentiable at \( a \in  A  \), we know that the following 
            \[  \lim_{ x \to a } \frac{ h(x) - h(a) }{ x - a  }  \]
            exists. But we can define a function \(  \ell(x) \) inside the limit as
            \[  \ell(x) = \frac{ h(x) - h(a)  }{ x - a  } \iff h(x) - h(a) = \ell (x) (x -a) . \]
            But we know that \(  h  \) is continuous since \( h \) is differentiable so we have that \( \ell(x)  \) is also continuous. 

            (\( \Leftarrow \)) Now we want to show the converse. Suppose there exists \( \ell : A \to \R  \) which is continuous at \( a  \) and satisfies
            \[  h(x) - h(a) = \ell(x) (x - a )  \] for all \( a \in A  \). Since \( \ell  \) is continuous, we now for all \( \epsilon > 0  \), there exists \( \delta > 0  \) such that whenever \( | x - a  | < \delta  \), we have that 
            \[  | \ell(x) - \ell(a)  | < \epsilon \tag{1}. \]
            But since 
            \[  \ell (x) = \frac{ h(x) - h(a) }{ x - a  }  \]
            we know that the limit 
            \[  \lim_{ x \to a } \frac{ h(x) - h(a)  }{ x - a  }  \] exists. Hence, \( h  \) is differentiable at \( a  \).
        \end{proof}
    \item[(b)] Use this criterion for differentiability (in both directions) to prove Theorem 5.2.5.

        \begin{proof}
        Let \( f: A \to \R  \) and \( g: B \to \R  \) satisfy \( f(A) \subseteq B  \) so that the composition \( g \circ f  \) is defined. Let \( f  \) be a differentiable function at \( c \in  A \) and let \( g: B \to \R  \) be a differentiable function at \(  f(c) \in B  \). 

        Since \( g  \) is differentiable at \( f(c) \in B  \), we can construct the function \( \ell  \) such that 
        \[  \ell(f(x)) = \frac{ g(f(x)) - g(f(c))  }{ f(x) - f(c) } \tag{1}.  \]
        By part (a), we know that \( \ell(f(x))  \) is a continuous function and that it satisfies the following property 
        \[  g(f(x)) - g(f(c)) =  \ell(f(x)) (f(x) - f(c)) \tag{2}  \]
for all \( f(c) \in B  \). Dividing (2) by \( (x-c) \), we get that 
\[ (g \circ f)'(c)= \frac{ g(f(x)) - g(f(c))  }{ x - c   } = \ell(f(x)) \frac{ f(x) - f(c)  }{ x - c  } \tag{3}.  \]
Assuming our result in part (a) and the fact that \( f  \) and \( g  \) are both differentiable at \( c \in A  \) and \( f(c) \in B  \) respectively, taking the limit of (3) leads to 
the conclusion that \( (g \circ f)'(c) = g'(f(c)) \cdot f'(c) \). 
        \end{proof}
\end{enumerate}



\subsubsection{Exercise 5.2.5} Let \( f_a (x) = 
\begin{cases}
    x^a &\text{if } x > 0 \\
    0 &\text{if } x \leq 0. 
\end{cases} \)

\begin{enumerate}
    \item[(a)] For which values of \( a \) is \( f  \) continuous at zero? 
        \begin{proof}[Solution]
        The function \( f \) is continuous for all \( a > 0  \).
        \end{proof}
    \item[(b)] For which values of \( a \) is \( f  \) differentiable at zero? In this case, is the derivative function continuous? 
        \begin{proof}[Solution]
        The function \( f  \) is differentiable at zero for all \( a >  1  \) and yes the derivative function is continuous in the same conditions.
        \end{proof}
    \item[(c)] For which values of \( a  \) is \( f  \) twice-differentiable?
        \begin{proof}[Solution]
        The function \( f  \) is twice-differentiable whenever \( a >  2  \).
        \end{proof}
\end{enumerate}


\subsubsection{Exercise 5.2.6} 
Let \( g  \) be defined on an interval \( A  \), and let \( c \in A  \).
\begin{enumerate}
    \item[(a)] Explain why \( g'(c)  \) in Definition 5.2.1 could have been given by
        \[  g'(c) = \lim_{ h \to 0 } \frac{ g(c + h) - g(c)  }{ h }. \]
        \begin{proof}[Solution]
        Since \( g  \) is differentiable at \( c \in A  \) and \( A  \) is an interval, we can always define the difference quotient between two points, in this case \( c + h  \) and \( c  \), and still have the limit as \( h \to 0  \) and still have \( g'(c) \).
        \end{proof}
    \item[(b)] Assume \( A  \) is open. If \( g  \) is differentiable at \( c \in A  \), show that 
        \[  g'(c) = \lim_{ h \to 0 } \frac{ g(c+h) - g(c-h)  }{ 2h }. \]
        \begin{proof}
            Let \( c \in A  \) and let \( \epsilon = h  \). Since \( g  \) is defined on an interval \( A  \) and \( A  \) is open, there exists \( V_{h}(c) \subseteq A  \). Then let \( x \in (c -h, c + h ) \). Hence, our difference quotient can be written as follows
            \[  d(h) = \frac{ g(c + h) - g(c -h ) }{ c + h - (c -h) } = \frac{ g(c + h) - g(c -h ) }{ 2h }  \]
            which taking the limit as \( h \to 0  \) will give us \( g'(c) \) since \( g  \) is differentiable at \( c  \). Hence, 
            \[  g'(c) = \lim_{ h \to 0 } \frac{ g(c+h) - g(c-h) }{ 2h }.\]
        \end{proof}
\end{enumerate}


\subsubsection{Exercise 5.2.7} Let 
\[  g_a(x) = 
\begin{cases}
    x^a \sin(1/x) &\text{if } x \neq 0 \\
    0 &\text{if } x = 0. 
\end{cases} \]
Find a particular (potentially noninteger) value for \( a \) so that
\begin{enumerate}
    \item[(a)] \( g_a \) is differentiable on \( \R  \) but such that \( g_a' \) is unbounded on \( [0,1] \).
\end{enumerate}


\subsubsection{Exercise 5.2.8} Review the definition of uniform continuity. Given a differentiable function \( f: A \to \R  \), let's say that \( f  \) is \textit{uniformly differentiable} on \( A  \) if, given \( \epsilon > 0  \) there exists \( \delta > 0  \) such that 
\[\Big| \frac{ f(x) - f(y)  }{ x - y  } - f'(y) \Big| < \epsilon   \] whenever \(  0 < | x - y  |  < \delta  \).
\begin{enumerate}
    \item[(a)] Is \( f(x) = x^2  \) uniformly differentiable on \( \R  \)? How about \( g(x) = x^3 \)?
        \begin{proof}[Solution]
        \( f(x) = x^2  \) is uniformly differentiable on \( \R  \) but \( g(x) =x^3  \) is not.
        \end{proof}
    \item[(b)] Show that if a function is uniformly differentiable on an interval \( A  \), then the derivative must be continuous on \( A  \).
        \begin{proof}
        Let \( f: A \to \R  \) be uniformly differentiable on an interval \( A  \). Let \( \epsilon > 0  \) and let \( c \in A  \). We want to show that \( f'  \) is continuous on \(  A  \); that is, whenever \( |  x - c  | < \delta  \) for some \( \delta > 0  \), we have that 
        \[ | f'(x) - f'(c) | < \epsilon. \]
    By using the fact that \( f  \) is uniformly differentiable on an interval \( A  \), we have 
    \begin{align*}
        | f'(x) - f'(c) | &= \Big| f'(x) - \frac{ f(x) - f(c)  }{ x - c  } + \frac{ f(x) - f(c)  }{ x - c  } - f'(c)  \Big|  \\
                          &\leq \Big| f'(x) - \frac{ f(x) - f(c)  }{ x - c  }  \Big| + \Big| \frac{ f(x) -f(c)  }{ x - c  } - f'(c)  \Big| \\
                          &< \frac{ \epsilon  }{ 2 } + \frac{ \epsilon  }{ 2 } \\
                          &= \epsilon.
    \end{align*}
    Hence, we have that \( f  \) is continuous on \( A  \).
        \end{proof}
    \item[(c)] Is there a theorem analogous to Theorem 4.4.7 for differentiation? Are functions that are differentiable on a closed interval \( [a,b] \) necessarily uniformly differentiable?
        \begin{proof}[Solution]
            Not necessarily. It is differentiable on \( [0,1]  \), but not uniformly differentiable since the \( \delta  \) response gets progressively smaller as we compute \( g_2'(x)  \) as \( x \to 0  \).
        \end{proof}
\end{enumerate}


\subsubsection{Exercise 5.2.11} Assume that \( g  \) is differentiable on \( [a,b] \) and satisfies \( g'(a) < 0 < g'(b)  \).
\begin{enumerate}
    \item[(a)] Show that there exists a point \( x \in (a,b)  \) where \( g(a) > g(x)  \) and a point \( y \in (a,b)  \) where \( g(y) < g(b) \).
        \begin{proof}
            To prove \( g(a) > g(x)  \) for some \( x \in (a,b)  \), let us construct the sequence \( (x_n) \subseteq (a,b)  \) such that \( x_n \to x \). We can do this because \( g  \) being differentiable on \( [a,b]  \) immediately implies that \( g  \) is continuous on \( [a,b]  \). Since \( g'(a) < 0   \), we know that 
            \[  \lim_{ n \to \infty  } \frac{ g(x_n) - g(a)  }{ x_n - a  } < 0  \tag{1}. \]
            Since \( g  \) is continuous on \( [a,b] \), we have that (1) implies
            \[ \frac{ g(x) - g(a)  }{ x - a  } < 0 \iff g(x) < g(a).     \]
            Likewise, we can construct the sequence \( (y_n) \subseteq (a,b)  \) such that \( (y_n) \to y  \). Since \( g  \) is continuous we know that 
            \[  \lim_{ n \to \infty  } \frac{ g(y_n) - g(b) }{ y_n - b  } > 0  \]
            implies that 
            \[  \frac{ g(y) - g(b)  }{ y - b } > 0 \iff g(y) > g(b). \]
        \end{proof}
    \item[(b)] Now complete the proof of  Darboux's Theorem started earlier.
        \begin{proof}
        Without loss of generality, suppose \( g(x) < g(y)  \). Since \( g  \) is a continuous function on \( (a,b)  \), there exists \( L  \) such that \( g(x) < L < g(y)  \) where \( g(c) = L  \) for some \( c \in (a,b)  \). Taking the derivative of both sides leads to \( g'(x) < 0 < g'(y)  \). But by definition, we have that \( g'(x) = f'(x) - \alpha    \) and thus we have \( f'(c) = \alpha \).
        \end{proof}
\end{enumerate}

\subsubsection{Exercise 5.2.12 (Inverse functions).} If \( f: [a,b] \to \R  \) is one-to-one, then there exists an inverse function \( f^{-1}  \) defined on the range of \( f  \) given by \( f^{-1}(y) = x  \) where \( y = f(x)  \). In Exercise 4.5.8, we saw that if \( f  \) is continuous on \( [a,b]  \), then \( f^{-1}  \) is continuous on its domain. Let's add the assumption that \( f  \) is differentiable on \( [a,b]  \) with \( f'(x) \neq 0  \) for all \( x \in [a,b]  \). Show \( f^{-1}  \) is differentiable with 
\[  (f^{-1})'(y) = \frac{ 1 }{ f'(x)  }  \] where \( y = f(x)  \).
\begin{proof}
    Since \( f: [a,b] \to \R   \) is a one-to-one function, there exists an inverse function \( f^{-1} \) which is defined on the range of \( f  \) given by \( f^{-1}(y) = x  \) where \( y = f(x)  \). Since \( f  \) is differentiable on \( [a,b]  \) with \( f(x) \neq 0  \) for all \( x \in [a,b] \), we know that 
    \begin{align*}
        (f^{-1})'(y) &= \lim_{ y  \to f(c)  } \frac{ f^{-1}(y) - f^{-1}(f(c)) }{ y - f(c)  }  \\
                     &= \lim_{ y \to f(c)  } \frac{ x - c  }{ y - f(c)  } \\
                     &= \lim_{ x \to c  } \frac{ 1 }{ \frac{ f(x) - f(c)  }{ x - c  }  } \tag{1} \\
                     &= \frac{ 1 }{ f'(c)  }.
    \end{align*}
    The reason why we can exchange the limits on (1) is due to the fact that \( f^{-1}  \) is continuous on the range of \( f  \).

\end{proof} 

