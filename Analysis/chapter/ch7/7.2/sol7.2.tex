\section{The Definition of the Riemann Integral}

\subsubsection{Exercise 7.2.1} Let \( f  \) be a bounded function on \( [a,b]  \), and let \( P  \) be an arbitrary parititon of \(  [a,b]  \). First, explain why \( U(f) \geq L(f,P)  \). Now, prove Lemma 7.2.6.
\begin{proof}
By definition, we know that 
\[  U(f) = \inf \{ U(f,P) : P \in \mathcal{P} \}  \] and \( U(f,P)   \), for any given partition \( P \in \mathcal{P} \), is an upper bound of the set \( \mathcal {L} = \{ L(f,P) 
: P \in \mathcal{P}\}  \). Since \( U(f)  \) is any upper bound of \( \mathcal{L} \) and \( L(f)  \) is the \textit{least upper bound} then, we know that \( U(f) \geq L(f,P) \). Then given an arbitrary \( \epsilon > 0  \), we can find some partition \( P_{\epsilon } \in \mathcal{P} \) such that 
\[  L(f) - \epsilon < L(f, P_{\epsilon }) \leq U(f)  \]
which implies that 
\[  L(f) \leq U(f) + \epsilon. \]
Since \( \epsilon > 0  \) is arbitrary, we know that \( U(f) \geq L(f) \).
\end{proof}


\subsubsection{Exercise 7.2.3 (Sequential Criterion for Integrability)} 
\begin{enumerate}
	\item[(a)] Prove that a bounded function \( f  \) is integrable on \( [a,b]  \) if and only if there exists a sequence of partitions \( (P_{n})_{n=1}^{\infty } \) satisfying 
		\[  \lim_{ n \to \infty  }  [U(f, P_{n}) - L(f, P_{n})] = 0,  \]
		and in this case \( \int_{ a }^{ b }  f = \lim_{ n \to \infty  }  U(f, P_{n} ) = \lim_{ n \to \infty  }  L(f, P_{n}). \)
		\begin{proof}
		First we prove the forwards direction. We can find a \textit{common refinement} where \( Q = P_{1} \cup P_{2} \) such that \( P_{1} \subseteq Q  \) and \( P_{2} \subseteq Q  \). Given that \( f  \) is bounded, let \( \epsilon > 0  \) such that the following statements can be made:
		\begin{align*}
			U(f, P_1) &< U(f) + \frac{ \epsilon  }{ 2  }  \iff U(f, P_{1}) - U(f) < \frac{ \epsilon  }{ 2 } \\
			L(f, P_{2}) &> L(f) - \frac{ \epsilon  }{ 2 } \iff L(f) - L(f, P_{2}) < \frac{ \epsilon  }{ 2 } .
		\end{align*}
		Now assume \( L(f) = U(f) \). Then for some \( N \in \N  \), we assume that for any \( n \geq N  \), we have
		\begin{align*}
		    | U(f, P_{n}) - L(f, P_{n}) | &\leq | U(f, P_{1}) - L(f, P_{2}) |  \\
										  &= | U(f, P_{1}) - U(f)  +  U(f) - L(f)   +  L(f) - L(f, P ) | \\
										  &\leq | U(f, P_{1}) - U(f)  |  + | U(f) - L(f)  | + | L(f) - L(f, P ) | \\
										  &= | U(f,P_{1}) - U(f)  |  + | L(f) - L(f,P) | \\
										  &< \frac{ \epsilon  }{ 2  } + \frac{ \epsilon  }{ 2  } = \epsilon.
		\end{align*}

		Now we shall prove the backwards direction. Choose \( \epsilon = 1/n   \). Assume there exists a partition \( P_{n} \) such that for some \( N \in \N  \), we have that for any \( n \geq N  \)
		\[  U(f) - L(f) \leq U(f, P_{n})  - L(f, P_{n}) < \frac{ 1 }{ n } \to 0. \]
		But by Theorem 1.2.6, we have that \( U(f) = L(f) \). Hence, \( f  \) must be integrable.
		\end{proof}
	\item[(b)] For each \( n  \), let \( P_{n} \) be the partition of \( [0,1] \) into \( n \) equal subintervals. Find formulas for \( U(f, P_{n}) \) and \( L(f,P_{n}) \) if \( f(x) = x  \). The formula \( 1 + 2 + 3 + \dotsb + n = n(n+1)/2  \) will be useful.
		\begin{proof}[Solution]
			Let \( f(x) = x  \). Then for each \( n \in \N  \), let \( x_{k } = k / n  \). Then using the formula \( 1 + 2 + 3 + \dotsb + n = n(n+1) / 2 \), we attain the formula for the \textit{Upper Sum}  
			\begin{align*}
			   U(f, P_{n}) &= \sum_{ k=1 }^{ n } M_{k } ( x_{k } -  x_{k -1 } ) \\
						   &= \sum_{ k=1 }^{ n } \frac{ k  }{ n } \Big(  \frac{ k  }{ n } - \frac{ k-1 }{ n } \ \Big) \\
						   &= \sum_{ k=1 }^{ n } \frac{ k  }{ n^2 } \\
						   &= \frac{ n(n+1) }{ 2n^2 } \\
						   &= \frac{ n+1 }{ 2n }. \\ 
			\end{align*}
		Similarly, we can let \( x_{k-1} = (k-1)/n \) to attain the formula for the \textit{Lower Sum} 
		\begin{align*}
		    L(f, P_{n})&= \sum_{ k=1 }^{ n } m_{k } ( x_{k} - x_{k-1}) \\
					   &= \sum_{ k=1 }^{ n } \frac{ k-1 }{ n } \Big( \frac{ k-1 }{ n } - \frac{ k-2 }{ n }  \Big) \\
					   &= \sum_{ k=1 }^{ n } \frac{ k-1 }{ n^2 } \\
					   &= \frac{ n^{2} + n - 2  }{ 2 n^{2} }. 
		\end{align*}
		Hence, we have the following formulas:
		\begin{align*}
		    U(f, P_{n}) &= \frac{ n^2 + n  }{ 2n^2 } \\
			L(f, P_{n}) &=  \frac{ n^{2} + n - 2  }{ 2n^2 } 
		\end{align*}
		\end{proof}
	\item[(c)] Use the sequential criterion for integrability from (a) to show directly that \( f(x) = x  \) is integrable on \( [0,1]  \) and compute \( \int_{ 0 }^{ 1 } f   \).
		\begin{proof}[Solution]
			To show that \( f(x)  \) integrable on \( [0,1] \), all we need to show is 
			\[  \lim_{ n \to \infty  }  [ U(f, P_{n}) - L(f, P_{n })] = 0.  \]
			Indeed, we have 
			\begin{align*}
			    \lim_{ n \to \infty  }  [ U(f, P_{n}) - L(f, P_{n })] &= \lim_{ n \to \infty  } \frac{ 1 }{ n^2 }  \\
																	  &= 0. 
			\end{align*}
			Hence, \( f(x) = x  \) is integrable on \( [0,1] \). For large \( n  \), we know that 
			\( U(f) \leq 1 /2  \) and \( L(f) \geq 1 / 2  \). Since \( U(f) = L(f)  \), we know that 
			\[  \int_{ a }^{ b } f  = \frac{ 1 }{ 2 }. \]
		\end{proof}
\end{enumerate}


\subsubsection{Exercise 7.2.4} Let \( g  \) be bounded on \( [a,b]  \) and assume there exists a partition \( P  \) with \( L(f, P) = U(g,P)  \). Is \( g  \) necessarily continuous? Is it integrable? If so, what is the value of \( \int_{ a }^{ b }  g \).
\begin{proof}[Solution]
	Yes, \( g  \) is continuous since it is just the constant function and constant functions are continuous. Let \( \epsilon > 0  \). It is integrable becuse there exists a partition \( P_{\epsilon } \) such that \( L(g,P_{\epsilon }) = U(g,P_{\epsilon })  \) implies that 
	\[ U(g,P) - L(g,P) < \epsilon.  \] Furthemore, we have \( \int_{ a }^{ b }  g = g(x_{k }) \Delta x_{k } \).
\end{proof}





\subsubsection{Exercise 7.2.5} Assume that, for each \( n  \), \( f_{n} \) is an integrable function on \( [a,b]  \). If \( (f_n) \to f  \) uniformly on \( [a,b]   \), prove that \( f  \) is also integrable on this set. (We will see that this conclusion does not necessarily follow if the convergence is pointwise.)
\begin{proof}
	Let \( \epsilon > 0  \). Since \( f_{n} \) is integrable on \( [a,b]  \), there exists a partition \( P_{\epsilon } \) such that 
	\[ U(f_{n}, P_{\epsilon }) - L(f_{n}, P_{\epsilon }) < \epsilon. \]
	Since \( (f_{n}) \to f  \) uniformly, we can bound the difference of the upper sums between \( f_{n} \) and \( f  \) by choosing \( N_{1} \in \N  \) such that for any \( n \geq N_{1}  \), we have
	\[  U(f, P_{\epsilon }) - U(f_{n}, P_{\epsilon }) = (M_{k} - f_{n}(\ell_k)) \sum_{ k=1 }^{ n } \Delta x_{k } < \frac{ \epsilon  }{  3(b -a)  } \sum_{ k=1 }^{ n } \Delta x_{ k }  \] for some \( \ell_{k } \in [x_{k-1}, x_{k }] \) and similarly choosing \( N_{2} \in \N  \) such that for any \( n \geq N_{2} \)
	\[  L(f_n, P_{\epsilon }) - L(f, P_{\epsilon }) = ( f_{n}(s_{k }) - m_{k}) \sum_{ k=1 }^{ n } \Delta x_{k } < \frac{ \epsilon  }{  3(b -a)  } \sum_{ k=1 }^{ n } \Delta x_{ k }.\] Furthermore, we must also choose \( N_{3} \in \N  \) such that for any \( n \geq N_{3} \) 
	\[  | U(f_{n}, P_{\epsilon }) - L(f_{n}, P_{\epsilon }) | < \frac{ \epsilon  }{ 3 (b-a) } . \]
	Then we can find an \( N = \max \{ N_{1}, N_{2}, N_{3} \}   \) such that for any \( n \geq N  \)
	\begin{align*}
		U(f, P_{\epsilon }) - L(f, P_{\epsilon }) &= U(f, P_{\epsilon }) - U(f_n, P_{\epsilon }) + U(f_{n}, P_{\epsilon }) - L(f_{n}, P_{\epsilon }) \\ 
												  &+ L(f_{n}, P_{\epsilon }) - L(f, P_{\epsilon }) \\
												  &< \frac{ \epsilon  }{ b - a  } \sum_{ k=1 }^{ n } \Delta x_{k} = \epsilon.
	\end{align*}
\end{proof}


\subsubsection{Exercise 7.2.6} A \textit{tagged partition} \( (P, \{ c_{k } \} ) \) is one where in addition to a partition \( P  \) we choose a sampling point \( c_{k } \) in each of the subintervals \( [ x_{k-1} , x_{k }]  \). The corresponding \textit{Riemann Sum}, 
\[  R(f, P ) = \sum_{ k=1 }^{ n } f(c_{k }) \Delta x_{k },  \] is discussed in Section 7.1, where the following definition is alluded to. 
\begin{tcolorbox}
	\begin{defn}[Riemann's Original Definition of the Integral]
	A bounded function \( f  \) is \textit{integrable} on \( [a,b]  \) with \( \int_{ a }^{ b } f = A  \) if for all \( \epsilon > 0   \) there exists \( \delta > 0  \) such that for any tagged partition \( (P, \{ c_{k } \} ) \) satisfying \( \Delta x_{k } < \delta  \) for all \( k  \), it follows that 
	\[  | R(f,P) - A  | < \epsilon. \]
	\end{defn}
\end{tcolorbox}

Show that if \( f  \) satisfies Riemann's definition above, then \( f  \) is integrable in the sense of Definition 7.2.7.

\begin{proof}
Let \( \epsilon > 0  \) and let \( (P_n, \{ c_{k } \} ) \) be a tagged partition satisfying  \( \Delta x_{k} < \delta_1   \) for all  \( k \). It suffices to show that there exists some \( \delta > 0  \) such that our arbitrary tagged partition defined above must imply that
\[  | U(f, P_{n}) - L(f, P_{n}) | < \epsilon.  \]
Let \( P_{1} \) and \( P_{2} \) be any two partitions of \( [a,b]  \). We can attain a common refinement by taking \( P_{1} \cup P_{2} = P_{n} \) where \( P_{1} \subseteq P_{n} \) and \( P_{2} \subseteq P_{n} \). Suppose we take tag partitions \( P_{1} \) and \( P_{2} \) so that we may pick sampling points \( \ell_{k } \) and \( d_{ k }  \) in \( [x_{k-1} , x_{k}] \). Since \( f  \) is integrable on \( [a,b]  \), there must exist \( \delta_1, \delta_2  > 0  \) such that for tagged partitions \( (P_{n}, \{ \ell_k  \} )  \) and \( ( P_{1}, \{ d_{k } \} ) \) satisfying \( \Delta x_{k } < \delta_1  \) and \( \Delta x_{k } < \delta_2  \) respectively, we must have
\[  | U(f, P_{n}) - R(f, P_{1}) | < \frac{ \epsilon  }{ 4 }.\]
Similarly, pick a sampling point \( z_{k } \) in \( [x_{k-1}, x_{ k }] \) such that for some \( \delta_3 > 0  \), we can choose \( (P_{2}, \{ z_{k} \} ) \) satisfying \( \Delta x_{k } < \delta_3  \)
\[  | R(f, P_{2}) - L(f, P_{n}) | < \frac{ \epsilon  }{ 4 }.  \]
Furthermore, the integrability of \( f  \) also implies that 
\begin{align*}
	| R(f, P_{1}) - R(f,P_{2}) |   &\leq | R(f, P_{1}) - A  | + | A - R(f, P_{2}) | \\ 
								   &< \frac{ \epsilon }{ 4  } + \frac{ \epsilon  }{ 4  }.   \\
\end{align*}
Hence, we can find \( \delta = \min \{ \delta_{1}, \delta_{2}, \delta_{3}  \}  > 0  \) such that for any partition \( (P_{n}, \min \{ z_{k}, \ell_{k }, d_{k } \} ) \) satisfying \( \Delta x_{k } < \delta  \) for all \( k  \), we have
\begin{align*}
	| U(f, P_{n}) - L(f, P_{n}) | &\leq | U(f, P_{n}) - R(f, P_{1})   | + | R(f, P_{1}) - R(f, P_{2}) | \\ &+ | R(f,P_{2}) - L(f, P_{n}) |  \\
								  &\leq | U(f, P_{n}) - R(f, P_{1}) | + | R(f, P_{1}) - A | \\ &+  | A  - R(f, P_{2}) | + | R(f, P_{2}) - L(f, P_{n}) |  \\  
								  &< \frac{ \epsilon  }{ 4  } + \frac{ \epsilon  }{ 4  }  + \frac{ \epsilon  }{ 4  } + \frac{ \epsilon  }{ 4  } \\
								  &= \epsilon.
\end{align*}
By the Integrability Criterion, \( f  \) is integrable on \( [a,b] \).
\end{proof}

\subsubsection{Exercise 7.2.7}  Let \( f: [a,b] \to \R   \) be increasing on the set \( [a,b]  \) (i.e., \( f(x) \leq f(y) \) whenever \( x < y  \). Show that \( f  \) is integrable on \( [a,b]  \).
\begin{proof}
	Suppose \( f: [a,b] \to \R    \) is increasing on \( [a,b]  \). Since \( P = \{ a = t_{0} < t_{1} < \dotsb < t_{n} = b   \}  \), we can take \( \Delta x_{k } < \frac{ \epsilon  }{ b -a  }  \). Then let \( \epsilon > 0 \) such that for every \( P_{\epsilon } \), we have 
	\begin{align*}
	    U(f, P_{\epsilon }) - L(f, P_{\epsilon }) &= \sum_{ k=1 }^{ n } (M_{k } - m_{k }) \Delta x_{k } \\
												  &= \sum_{ k=1 }^{ n } (f(x_{k}) - f(x_{k-1})) \Delta x_{k } \\
												  &< \frac{ \epsilon  }{ b -a  } \sum_{ k=1 }^{ n } (f(x_{k }) - f(x_{k-1})) \\
												  &< \frac{ \epsilon  }{ b - a } \cdot b -a \\
												  &= \epsilon.
	\end{align*}
\end{proof}





