\documentclass[11pt,a4paper]{book}
\input{../../../../newpreamble.tex}
\usepackage{standalone}
\usepackage{import}

\begin{document}

\section{The Nonexistence of a Function that generalizes length to all subsets of \( \R  \)}

\begin{prop}[Nonexistence of Extension of Length to all subsets of \( \R  \)]
   There does not exists a function \( \mu  \) with all the following properties: 
   \begin{enumerate}
       \item[(a)] \( \mu  \) is a function from the set of subsets of \( \R  \) to \( [0,\infty ] \).
        \item[(b)] \( \mu(I) = \ell(I) \) for every open interval of \( \R  \).
        \item[(c)] \( \mu \Big(  \bigcup_{ k = 1  }^{ \infty  }  {A}_{k } \Big) = \sum_{ k=1  }^{ \infty  } \mu( {A}_{k })  \) for every disjoint sequence \( {A}_{1}, {A}_{2}, \dots  \) of subsets of \( \R  \).
        \item[(d)] \( \mu(t + A ) = \mu(A) \) for every \( A \subset \R  \) and every \( t \in \R  \).
   \end{enumerate}
\end{prop}
\begin{proof}
We proceed via contradiction. Our goal is to show that if the function \( \mu  \) has all the properties that were used to prove {\hyperref[Nonadditivity of Outer Measure]{proposition 2.18}}, then we should reach the conclusion that for any disjoint sets \( A, B  \), we have 
\[  \mu(A \cup B) \neq \mu(A) + \mu(B). \] 
Those properties in particular are {\hyperref[Outer Measure Preserves Order]{}}  
Starting with the empty set, we see that \( \mu(\emptyset) = 0  \) by property (b) since the empty set is an open interval with a length of \( 0  \).  

Suppose \( A \subset B \subset \R  \). Assume that we can write \( B  \) as the union of the disjoint of the sequence \( A, B \setminus A, \emptyset, \emptyset, \dots  \). Then we can see that
\[  \mu(B) = \mu(A) + \mu ( B \setminus A ) + 0 + 0 + \cdots = \mu(A) + \mu(B \setminus A ) \geq \mu(A).   \]
So, we conclude that \( \mu  \) preserves order.  

Let \( a,b \in \R  \) with \( a < b  \). Now, we want to show that \( \mu([a,b]) = b - a  \). Observe that \( (a,b) \subset [a,b] \subset (a - \epsilon, b + \epsilon ) \) for every \( \epsilon > 0  \). Since \( \mu  \) preserves order, we have   
\[  b - a \leq \mu([a,b]) \leq b - a + 2 \epsilon. \]
Since \( \epsilon > 0  \) is arbitrary, we have \( \mu([a,b]) = b - a  \). 

If \( {A}_{1}, {A}_{2}, \dots  \) is a sequence of subsets of \( \R  \), then \( {A}_{1}, {A}_{2} \setminus {A}_{1}, {A}_{3} \setminus ({A}_{1} \cup {A}_{2}), \dots  \) is a disjoint sequence of subsets of \( \R  \) whose union is \( \bigcup_{ k=1  }^{ \infty  }  {A}_{k } \). Thus, we have
\begin{align*}
    \mu \Big(  \bigcup_{ k=1  }^{ \infty  }  {A}_{k } \Big) &= \mu \Big(  {A}_{1} \cup ( {A}_{2} \setminus {A}_{1}) \cup ({A}_{3} \setminus ({A}_{1} \cup {A}_{2})) \cup \dots   \Big) \\
                                                            &= \mu({A}_{1}) + \mu({A}_{2} \setminus {A}_{1}) + \mu({A}_{3} \setminus ({A}_{1} \cup {A}_{2})) + \cdots \\  
                                                            &\leq \sum_{ k=1  }^{ \infty  } \mu({A}_{k }),
\end{align*}
where the second equality follows from the countable additivity of \( \mu \). 
Since \( \mu  \) implies that the length of empty sets are zero, preserves order, and contains a countable subadditivity. Performing the same process used to prove result 2.18, we see that  
\[  \mu(A \cup B) \neq \mu(A) + \mu(B) \]
where \( A,B \subset \R  \) are disjoint. But note that this contradicts property (c) of \( \mu  \). Thus, \( A,B, \emptyset, \emptyset   \) is a disjoint sequence of open intervals of \( \R  \) does not satisfy the countable additivity property of property (c) which completes our proof.     
\end{proof}

\subsection{\( \sigma- \)Algebras}

In order to generalize the notion of size to all subsets of \( \R  \), we need to give up or make one of the conditions from the proposition above more relaxed. We see that parts (b), (c), and (d) cannot be taken out since: 
\begin{itemize}
    \item The size of an interval needs to be its length;
    \item Countable additivity is needed to prove results about limits;
    \item We cannot have sizes of intervals change if we translate them.
\end{itemize}
So, the only reasonable condition to relax is part (a). In order to have the notion of size generalized to more general subsets of \( \R  \), we need to develop a notion of size allows sets to be closed under complementation and closed under countable unions.   

\begin{definition}[\( \sigma- \)algebra]
    Suppose \( X  \) is a set and \( \mathcal{S}  \) is a set of subsets of \( X  \). Then \( S  \) is called a \( \sigma- \)algebra on \( X  \) if the following three conditions are satisfied:
    \begin{itemize}
        \item \( \emptyset \in S  \);
        \item if \( E \in \mathcal{S}  \), then \( X \setminus E \in \mathcal{S} \);
        \item if \( {E}_{1}, {E}_{2}, \dots  \) is a sequence of elements of \(  \mathcal{S }  \), then \( \bigcup_{ k=1  }^{ \infty  } {E}_{k } \in \mathcal{S}  \).
    \end{itemize}

\end{definition}

\begin{eg}
   \begin{itemize}
       \item Suppose \(  X  \) is a set. Then clearly \( \{ \emptyset, X  \}   \) is a \( \sigma-  \)algebra on \( X  \). 
        \item Suppose \( X  \) is a set. The set of all subsets of \( X  \) is a \( \sigma- \)algebra on \( X  \).
        \item Suppose \( X  \) is a set. All the subsets of \( E  \) of \( X  \) such that  \( E  \) is countable or \( X \setminus E  \) is countable is a \( \sigma- \)algebra on \( X  \). 
   \end{itemize} 
\end{eg}

\begin{prop}[\( \sigma- \)algebras are closed under countable intersection]
   Suppose \( S  \) is a \( \sigma- \)algebra on a set \( X  \). Then 
   \begin{enumerate}
       \item[(a)] \( X \in \mathcal{S} \);
        \item[(b)] If \( D,E \in \mathcal{S} \), then \( D \cup E \in \mathcal{S }  \), \( D \cap E \in \mathcal{S} \), and \( D \setminus  E \in \mathcal{S} \);
        \item[(c)] If \( {E}_{1}, {E}_{2}, \dots   \) is a sequence of elements of \( \mathcal{S} \), then \( \bigcap_{ k=1  }^{ \infty  } {E}_{k } \in \mathcal{S}  \).
   \end{enumerate}
\end{prop}
\begin{proof}
Suppose \( \mathcal{S} \) is a \( \sigma- \)algebra, we know that \( \emptyset \in \mathcal{S } \). Note that \( X = X \setminus \emptyset  \) and thus, \( X \setminus \emptyset \in \mathcal{ S} \). Hence, \( X \in S  \) completing the proof for part (a).

For part (b), suppose \( D,E \in \mathcal{S} \). Note that \( D \cup E  \) is the union of the sequence of \( D,E , \emptyset , \emptyset, \dots  \) of elements of \( \mathcal{S} \). By definition of \( \sigma- \)algebra, we see that \( D \cup E \in \mathcal{S} \).

Using De Morgan's Laws, we can see that
\[  X \setminus (D \cap E) = (X \setminus  D ) \cup (X \setminus  E ).  \]
If \( D,E \in \mathcal{S} \), then the right side of the equation above tells us that \( X \setminus  (D \cap E ) \in \mathcal{S} \), and so \( D \cap E \in \mathcal{S} \). Since \( D \setminus  E = D \cap (X \setminus  E )  \), we have \( D \setminus  E \in \mathcal{S} \). Furthermore, \( D \setminus  E = D \cap (X \setminus  E ) \) implies \( D \setminus  E \in \mathcal{S} \), completing the proof of part (b).

Finally, suppose \( {E}_{1}, {E}_{2}, \dots  \) is a sequence of elements in \( \mathcal{S}. \) Using De Morgan's Laws again, we see that  
\[  X \setminus  \bigcap_{ k=1  }^{ \infty  } {E}_{k } = \bigcup_{ k=1  }^{ \infty  } (X \setminus  {E}_{k }).  \]
Since the right side of the equation above is in \( \mathcal{S} \), this tells us that the left side of the equation is also in \( \mathcal{S} \). Therefore, \( X \setminus  (X \setminus  \bigcap_{ k=1  }^{ \infty  } {E}_{k }) \in \mathcal{S} \), proving (c).
\end{proof}

\begin{definition}[Measurable Space; Measurable Set]
    \begin{itemize}
        \item A \textit{measurable space} is an ordered pair \( (X, \mathcal{S}) \), where \( X  \) is a set and \( \mathcal{S} \) is a \( \sigma- \)algebra on \( X  \).
        \item An element of \( \mathcal{S} \) is called an \textit{ \( \mathcal{S}- \)measurable set}, or just a \textit{measurable set} if \( \mathcal{S} \) is clear from the context; that is, a set \( E\) is measurable if \( E \in \mathcal{S}   \).
    \end{itemize}
\end{definition}

\begin{eg}
  If \( X = \R  \) and \( \mathcal{S} \) is the set of all subsets of \( \R  \) that are countable or have a countable complement, then the set of rational numbers is \( \mathcal{S}- \)measurable but the set of positive real numbers 
\end{eg}

\subsection{Borel Subsets of \( \R  \)}

\begin{prop}[smallest \( \sigma- \)algebra containing a collection of subsets]
   Suppose \( X  \) is a set and \( \mathcal{A} \) is a set of subsets of \( X  \). Then the intersection of all \( \sigma- \)algebras on \( X  \) that contain \( \mathcal{A} \) is a \( \sigma- \)algebra on \( X  \). 
\end{prop}

\begin{proof}
    There is at least one \( \sigma- \)algebra on \( X  \) that contains \( \mathcal{A} \)because the \( \sigma- \)algebra consisting of all subsets of \( X  \) contains \( \mathcal{A} \). 

    Let \( \mathcal{S} \) be the intersection of all \( \sigma- \)algebras on \( X  \) that contain \( \mathcal{A} \). Since \( \emptyset  \) is in every \( \sigma- \)algebra on \( X  \), we see that \( \emptyset \in \mathcal{S} \) as well.

    Suppose \( E \in \mathcal{S} \). Thus, \( E  \) is in each \( \sigma- \)algebra on \( X  \). Therefore, \( X \setminus  E  \) is in each \( \sigma- \)algebra on \( X  \) and so \( X \setminus  E \in \mathcal{S} \)

    Let \( {E}_{1}, {E}_{2}, \dots  \) be a sequence of elements of \( \mathcal{S} \). 
\end{proof}

\begin{definition}[Borel Sets]
   A subset \( S   \) of \( X  \) is a Borel set if it is in the \( \sigma- \)algebra generated by the open subsets of \( X  \).
\end{definition}

The "generating" means that \( S  \) can be formed by a countable union of open subsets of \( X  \).

\begin{definition}[Collection of Borel Sets]
    The smallest \( \sigma- \)algebra on \( \R  \) containing all open subsets of \( \R  \) is called the collection of \textit{Borel subsets} of \( \R  \). An element of this \( \sigma- \)algebra is called a \textit{Borel Set}. 
\end{definition}

\begin{itemize}
    \item The open subsets in the set above refer to the Borel sets. 
\end{itemize}




\begin{eg}[Borel Sets]
   \begin{itemize}
       \item Every closed subset of \( \R  \) is a Borel set because every closed subset of \( \R  \) is the complement of an open subset of \(  \R  \). In other words, for every \( a < b  \) with \( a,b \in \R  \), we have \( (a,b) \subseteq [a,b] \).
        \item Every countable subset of \( \R  \) is a Borel set because if \( B = \{ {x}_{1}, {x}_{2}, \dots  \}  \), then \( B = \bigcup_{ k = 1  }^{ \infty  } \{ {x}_{k } \}  \), which is a Borel set because each \( \{ {x}_{k } \}  \) is a closed set.
        \item In \( f: \R \to \R  \) is a function, then the set of points at which \( f  \) is continuous is the intersection of a sequence of open sets and thus is a Borel set.
   \end{itemize} 
\end{eg}

\begin{itemize}
    \item The intersection of every sequence of open subsets of \( \R  \) is a Borel set.       \item On the other hand, the set of all such intersections is NOT the Borel sets since it is not closed under countable unions.  
    \item Furthermore, the set of all countable unions of countable intersections is also not a set of Borel sets.
\end{itemize}

\subsection{Inverse Images}

\begin{definition}[Inverse Image; \( f^{(-1)}(A) \)]
    If \( f: X  \to Y  \) is a function and \( A \subset Y  \), then the set \( f^{-1}(A) \) is defined by
    \[  f^{-1}(A) = \{ x \in X : f(x) \in A  \}. \]
\end{definition}

\begin{prop}[Algebra of Inverse Images]
   Suppose \( f: X \to Y  \) is a function. Then 
   \begin{enumerate}
       \item[(a)] \( f^{-1} (\mathcal{Y} \setminus  A ) = X \setminus  f^{-1}(A)  \) for every \( A \subset \mathcal{Y} \);
        \item[(b)] \( f^{-1}(\bigcup_{ A \in \mathcal{A} }^{  }  A ) = \bigcup_{ A \in \mathcal{A} }^{  } f^{-1}(A) \) for every set \( \mathcal{A} \) of subsets of \( \mathcal{Y} \).
        \item[(c)] \( f^{-1}(\bigcap_{  A \in \mathcal{A} }^{  } A ) = \bigcap_{  A \in \mathcal{A} }^{  } A  \) for every set \( \mathcal{A}  \) of subsets of \( \mathcal{Y} \).
   \end{enumerate}
\end{prop}
\begin{proof}
Suppose \( f: X \to \mathcal{Y} \) is a function.
\begin{enumerate}
    \item[(a)] Suppose \( A \subset \mathcal{Y} \). For \( x \in X  \), we have
        \begin{align*}
             x \in f^{-1}(\mathcal{Y} \setminus  A )   &\iff f(x) \in \mathcal{Y} \setminus  A  \\
                                                        &\iff f(x) \notin A \\
                                                        &\iff x \notin f^{-1}(A) \\
                                                        &\iff x \in X \setminus f^{-1}(A). 
        \end{align*}
       Thus, we have \( f^{-1}(\mathcal{Y} \setminus  A ) = X \setminus  f^{-1}(A) \) which finishes the proof for part (a). 
    \item[(b)] Suppose \( A \subset \mathcal{Y}  \). For \( x \in X  \), we have
        \begin{align*}
            x \in f^{-1} \Big(  \bigcup_{ A \in \mathcal{A} }^{  } A  \Big) &\iff f(x) \in \bigcup_{ A \in \mathcal{A} }^{  } A  \\
                                                                            &\iff f(x) \in A \tag{for some \( A \in \mathcal{A} \)} \\  
                                                                            &\iff  x \in f^{-1}(A) \tag{for some \( A \in \mathcal{A} \)} \\
                                                                            &\iff x \in \bigcup_{ A \in \mathcal{A} }^{  } f^{-1}(A).
        \end{align*}
        Thus, we conclude that 
        \[ f^{-1}(\bigcup_{ A \in \mathcal{A} }^{  } A ) = \bigcup_{ A \in \mathcal{A} }^{  } f^{-1}(A).  \]
    \item[(c)] Again, suppose \( A \subset \mathcal{Y}  \). For \( x \in X  \), we have 
        \begin{align*}
            x \in f^{-1} \Big(  \bigcap_{ A \in \mathcal{A} }^{  }  A  \Big)  &\iff f(x) \in \bigcap_{ A \in \mathcal{A} }^{  } A  \\
                                                                              &\iff f(x) \in A \tag{for all \( A \in \mathcal{A}  \)} \\ 
                                                                              &\iff x \in f^{-1}(A) \tag{for all \( A \in \mathcal{A} \)} \\
                                                                              &\iff x \in \bigcap_{  A \in \mathcal{A} }^{  } f^{-1}(A).
        \end{align*}
    Thus, we conclude that
    \[  f^{-1} \Big(  \bigcap_{ A \in \mathcal{A} }^{  } A  \Big) = \bigcap_{  A \in \mathcal{A} }^{  }  f^{-1}(A). \]
\end{enumerate}
\end{proof}

\begin{prop}[Inverse Image of a Composition]
    Suppose \( f: X \to \mathcal{Y} \) and \( g: \mathcal{Y} \to \mathcal{W} \) are functions. Then
    \[ (g \circ f)^{-1}(A) = f^{-1}(g^{-1}(A))   \]
    for every \( A \subset \mathcal{W} \).
\end{prop}
\begin{proof}
Suppose \( A \subset \mathcal{W} \). For \( x \in X  \), we have
\begin{align*}
    x \in (g \circ f)^{-1}(A) &\iff (g \circ f)(x) \in A  \\
                              &\iff g(f(x)) \in A \\
                              &\iff f(x) \in g^{-1}(A) \\
                              &\iff  x \in f^{-1}(g^{-1}(A)). 
\end{align*}
Thus, we have 
\[ (g \circ f)^{-1}(A) = f^{-1}(g^{-1}(A)).  \]
\end{proof}

\subsection{Measurable Functions}

\begin{definition}[Measurable Function]
Suppose \( (X,\mathcal{S}) \) is a measurable space. A function \( f: X \to \R  \) is called \textit{\( \mathcal{S} -  \)measurable } (or just \textit{measurable} if \( \mathcal{S} \) is clear from context) if  
\[  f^{-1}(B) \in S \]
for every Borel set \( B \subset \R \).
\end{definition}

\begin{eg}[Measurable Functions]
   \begin{itemize}
       \item If \( \mathcal{S} = \{ \emptyset, X  \}  \), then the only \( \mathcal{S}- \)measurable functions from \( X  \) to \( \R  \) are the constant functions.
       \item If \( \mathcal{S} \) is the set of all subsets of \( X  \), then every function \( X  \) to \( \R  \) is \( \mathcal{S}- \)measurable.
        \item 
   \end{itemize} 
\end{eg}

\begin{definition}[Characteristic Function \( \chi_{E} \)]
   Suppose \( E  \) is a subset of a set \( X  \). The \textit{characteristic function} of \( E  \) is the function \( {\chi}_{E}: X \to \R  \) defined by 
   \[  {\chi}_{E} = 
   \begin{cases}
       1 &\text{if } x \in E  \\
       0 &\text{if } x \notin E 
   \end{cases} \]
\end{definition}

Note that \( X  \) is not explicitly mentioned in the notation of the characteristic function since it always be clear from context.

\begin{itemize}
    \item In order for a function to be \( \mathcal{S}- \)measurable, we require the inverse image of every Borel set to be in \( \mathcal{S} \).
    \item The next result allows us to check that this is the case using a much smaller collection of subsets of \( \R  \).
\end{itemize}

\begin{prop}[Condition for Measurable Function]
    Suppose \( (X, \mathcal{S}) \) is a measurable space and \( f: X \to \R  \) is a function such that 
    \[  f^{-1}((a,\infty )) \in \mathcal{S} \]
    for all \( a \in \R  \). Then \( f  \) is an \( \mathcal{S}- \)measurable function.
\end{prop}

Note that
\[  f^{-1}((a,\infty )) = \{  x \in X : f(x) > a \}. \]

\begin{proof}
    Let 
    \[  \mathcal{T} = \{ A \subset \R : f^{-1}(A) \in \mathcal{S} \}. \]
    We want to show that every Borel subset of \( \R  \) is in \( \mathcal{T} \). In order to do this, we need to show that \( \mathcal{T} \) is a \( \sigma- \)algebra on \( \R  \).
    Certainly, \( \emptyset \in \mathcal{T}  \) since \( f^{-1}(\emptyset) = \emptyset \in \mathcal{S} \).  

    If \( A \in \mathcal{T} \), then \( f^{-1}(A) \in \mathcal{S} \). Thus, we have
    \[  f^{-1}(\R \setminus  A ) = X \setminus  f^{-1}(A) \]
    by part (a) of Proposition 2.1.4. Since \( \mathcal{S} \) is a \( \sigma- \)algebra, we have \( X \setminus  f^{-1}(A) \in \mathcal{S}  \). Thus, \(  X \setminus f^{-1} ( A) \in \mathcal{S} \) which tells us that \( \R \setminus A \in \mathcal{T}    \). In other words, \( \mathcal{T} \) is closed under complementation. 

    Now, suppose \( {A}_{1}, {A}_{2}, \dots \in \mathcal{T}  \), then \( f^{-1}({A}_{1}), f^{-1}({A}_{2}), \dots \in \mathcal{S} \). Since \( \mathcal{S}  \) is a \( \sigma- \)algebra, we can see that 
    \[  f^{-1} \Big( \bigcup_{ n \in \N  }^{  } {A}_{n } \Big) =    \bigcup_{ n \in \N  }^{  } f^{-1}  ({A}_{n}  ) \in \mathcal{S} \tag{part (b) of Proposition 2.1.4}.      \]
    Thus, we see that \( \bigcup_{ n \in \N }^{} {A}_{n } \in \mathcal{T} \); that is, \( \mathcal{T} \) is closed under countable unions. Hence, \( \mathcal{T} \) is \( \sigma- \)algebra on \( \R  \).
   
    By hypothesis, \( \mathcal{T} \) contains \( \{ (a, \infty ) : a \in \R  \}  \). Since \( \mathcal{T }  \) is closed under complementation, \( \mathcal{T} \) also contains \( \{ (-\infty, b ] : b \in \R  \}  \). Since \( \mathcal{T}  \) is closed under finite intersections, we see that \( \mathcal{T} \) contains \( \{ (a,b] : a,b  \in \R \}  \). Since \( (a,b) = \bigcup_{ k =1  }^{ \infty  } (a,b - \frac{ 1 }{ k  } ] \) and \( (-\infty, b ) = \bigcup_{ k = 1  }^{ \infty  }  (-k, b - \frac{ 1 }{ k  } ] \) and \( \mathcal{T} \) is closed under countable unions, we can conclude that \( \mathcal{T} \) contains every open subset of \( \R  \).

    Thus, the \( \sigma- \)algebra \( \mathcal{T} \) contains the smallest \( \sigma- \)algebra on \( \R  \) that contains all open subsets of \( \R  \); that is, \( \mathcal{T} \) contains every Borel subset of \( \R  \). Thus, \( f  \) is an \( \mathcal{S}- \)measurable function.
\end{proof}

\begin{itemize}
    \item To generalize the result above, we can replace the collection of sets \( \{ (a,\infty ) \} : a \in \R  \) by any collection of subsets of \( \R  \) such that the smallest \( \sigma- \)algebra containing that collection contains the Borel subsets of \( \R  \).
\end{itemize}

\begin{definition}[Borel Measurable Function]
    Suppose \( X \subset \R  \). A function \( f: X \to \R  \) is called \textit{Borel Measurable}  if \( f^{-1}(B) \) is a Borel set for every Borel set \( B \subset \R  \).
\end{definition}

\begin{itemize}
    \item Suppose \( X \subset \R  \) and that there exists a Borel measurable function \( f: X \to \R  \). Thus, \( X  \) is a Borel set (since \( X = f^{-1}(\R) \) ).
    \item If \( X \subset \R  \) and \( f: X \to \R  \) is a function, then \( f  \) is a Borel measurable function if and only if \( f^{-1}((a,\infty )) \) is a Borel set for every \( a \in \R  \).
\end{itemize}

\begin{prop}[Every Continuous Function is Borel Measurable]
    Every continuous real-valued function defined on a Borel subset of \( \R  \) is Borel measurable function.
\end{prop}
\begin{proof}
Suppose \( X \subset \R  \) is a Borel set and \( f: X \to \R  \) is continuous. To show that \( f  \) is Borel Measurable., fix \( a \in \R  \).

If \( x \in X  \) and \( f(x) > a  \), then (by the continuity of \( f \)) there exists \( {\delta}_{x} > 0  \) such that \( f(y) > a  \) for all \( y \in (x - {\delta}_{x}, x + {\delta}_{x }) \cap X  \). Thus, 
\[  f^{-1}((a,\infty )) = \Big(  \bigcup_{ x \in f^{-1}\Big(  (a,\infty ) \Big) }^{  }  (x- {\delta}_{x}, x + {\delta}_{x}) \Big) \cap X. \]
Note that the union inside the large parentheses above is an open subset of \( \R  \); hence its intersecton with \( X  \) is a Borel set. Thus, \( f  \) is a Borel measurable function.
\end{proof}

\begin{definition}[Increasing Function]
    Suppose \( X \subset \R  \) and \( f: X \to \R  \) is a function.
    \begin{itemize}
        \item \( f  \) is called \textit{increasing} if \( f(x) \leq f(y) \) for all \( x,y \in X  \) with \( x < y  \).
        \item \( f \) is called \textit{strictly increasing} if \( f(x) < f(y)  \) for all \( x,y \in X  \) with \( x < y  \).
    \end{itemize}
\end{definition}

\begin{prop}[Every increasing function is Borel measurable]
   Every increasing function defined on a Borel subset of \( \R  \) of \( \R  \) is a Borel measurable function. 
\end{prop}
\begin{proof}
    Suppose \( X \subset \R  \) is a Borel set and \( f: X \to \R  \) is increasing. To prove that \( f  \) is Borel measurable, fix \( a \in \R  \). 
    Let \( b = \inf f^{-1}((a,\infty )) \). Then we have either
    \begin{center}
        \( f^{-1}((a,\infty )) = (b,\infty  ) \cap X  \) or \( f^{-1}((a,\infty )) = [b,\infty ) \cap X  \).
    \end{center}
    Either way, we can conclude that \( f^{-1}((a,\infty)) \) is a Borel set. Thus, \( f \) is a Borel measurable function via result 2.39.
\end{proof}

\begin{prop}[Composition of Measurable Functions]
   Suppose \( (X,\mathcal{S}) \) is a measurable space and \( f: X \to \R  \) is an \( \mathcal{S}- \)measurable function. Suppose \( g  \) is a real-valued Borel measurable function defined on a subset of \( \R  \) that includes the range of \( f  \). Then \( g \circ f : X \to \R  \) is an \( \mathcal{S}- \)measurable function.
\end{prop}
\begin{proof}
Suppose \( B \subset \R  \) is a Borel set. Since \( g  \) is a real-valued Borel measurable function defined on a subset of \( \R  \) that includes the range of \( f  \), we can see that \( g^{-1}(B)  \) is a Borel set as well. Because \( f  \) is \( \mathcal{S}- \)measurable and \( g^{-1}(B)  \) is a Borel set, we can see that \( f^{-1}(g^{-1}(B)) \in \mathcal{S} \). By proposition 2.34, we see that 
\[  (g \circ f)^{-1}(B) = f^{-1}(g^{-1}(B)) \in \mathcal{S}. \]
Thus, \( g \circ f  \) is an \( \mathcal{S}- \)measurable function.
\end{proof}

\begin{prop}[Algebraic Operations with Measurable Functions]
    Suppose \( (X, \mathcal{S}) \) is a measurable space and \( f,g : X \to \R  \) are \( \mathcal{S}-  \)measurable. Then  
    \begin{enumerate}
        \item[(a)] \( f  + g , f - g  \) and \( fg  \) are \( \mathcal{S}- \)measurable functions;
        \item[(b)] if \( g(x) \neq 0  \) for all \( x \in X  \), then \( \frac{ f  }{ g  }   \) is an \( \mathcal{S}- \)measurable function.
    \end{enumerate}
\end{prop}

\begin{proof}
Suppose \( a \in \R  \). Our goal is to show that 
\[  (f+g)^{-1} ((a , \infty )) = \bigcup_{ r \in \Q  }^{  }  \Big(  f^{-1}((r, \infty ))  \cap g^{-1}((a-r), \infty ) \Big), \]
which implies that \( (f+g)^{-1}((a,\infty )) \in \mathcal{S} \). Suppose 
\[  x \in (f+g)^{-1}((a,\infty )). \]
Then \( (f+g)(x) \in (a,\infty ) \). Thus, \( a < f(x) + g(x) \). Hence, the open interval \( (a - g(x), f(x))  \) is nonempty, and therefore it contains some \( r \in \Q  \) (since \( \Q  \) is dense in \( \R  \)). This implies that \( r < f(x)  \) which means \( x \in f^{-1}((r,\infty  )) \) and \( a - g(x) < r  \), which implies that \( x \in g^{-1}((a-r,\infty )) \). Thus, we see that
\[ x \in \bigcup_{ r \in \Q  }^{  }  \Big( f^{-1}((r,\infty )) \cap g^{-1}((a-r), \infty ) \Big).  \]
Thus, we have \( x \in f^{-1}((r,\infty )) \) and \( x \in g^{-1}((a-r, \infty )) \) which implies
\begin{center}
    \( r < f(x) \) and \( a - r < g(x) \),
\end{center}
respectively. We can see that adding these two inequalities gives us \( a < f(x) + g(x) \). Hence, \( (f+g)(x) > a  \) and thus \( x \in (f+g)^{-1}((a,\infty )) \). So, \( f + g  \) is an \( \mathcal{S}- \)measurable function. 

Note that \( -g  \) is an \( \mathcal{S}- \)measurable function since \( -g  \) can be written as a composition with a continuous function. Thus, we can write  
\[  f - g  = f + (-g) \]
and conclude that the difference is also an \( \mathcal{S}- \)measurable function.

To show that \( fg  \) is \( \mathcal{S}- \)measurable, we take note that \( fg  \) can written as
\[  fg = \frac{ (f+g)^{2} - f^{2} - g^{2}  }{ 2  }.  \]
Note that \( f^{2}  \), \( g^{2} \), and \( \frac{ 1 }{ 2 } f  \)  is also \( \mathcal{S}- \)measurable by the same reasoning that showed \( -f \) as an \( \mathcal{S}- \)measurable function. Since the sum and difference of \( \mathcal{S}- \)measurable functions is \( \mathcal{S}- \) measurable, we see that \( fg  \) is also \( \mathcal{S}- \)measurable, thereby completing the proof of (a). 

Suppose \( g(x) \neq 0  \) for all \( x \in X  \). Since \( g  \) defined on \( \R \setminus  \{  0  \}  \), which is a Borel subset of \( \R  \), that takes \( x  \) to \( \frac{ 1 }{ x }  \) is continuous, we can conclude that  \( \frac{ 1  }{ g  }  \) is an \( \mathcal{S}- \)measurable function. Since the product of two \( \mathcal{S}- \)measurable functions is \( \mathcal{S}- \)measurable, we can see that \( \frac{ f }{ g }  \) is an \( \mathcal{S}- \) function as well, proving (b). 
\end{proof}
\begin{itemize}
    \item The next result states that the pointwise limit of a sequence of \( \mathcal{S}- \)measurable functions is \( \mathcal{S}- \)measurable. 
    \item This property is highly desirable for integration since the sequence of Riemann integrable functions is not closed under taking pointwise limits.  
\end{itemize}

\begin{prop}[Limit of \( \mathcal{S}- \)measurable functions]
   Suppose \( (X, \mathcal{S}) \) is a measurable space and \( {f}_{1}, {f}_{2}, \dots  \) is a sequence of \( \mathcal{S}- \)measurable functions from \( X  \) to \( \R  \). Suppose \( \lim_{ k  \to \infty  }  {f}_{k } (x)  \) exists for each \( x \in X  \). Define \( f: X \to \R  \) by
   \[  f(x) = \lim_{ k  \to  \infty   }  {f}_{k } (x). \]
   Then \( f \) is an \( \mathcal{S}- \)measurable function.
\end{prop}
\begin{proof}

\end{proof}






\end{document}
