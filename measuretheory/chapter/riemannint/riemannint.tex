\documentclass[11pt,a4paper]{book}
\input{../../../newpreamble.tex}
\usepackage{standalone}
\usepackage{import}

\begin{document}
\section{Review: Riemann Integral}

Let \( \R  \) denote the complete ordered field of real numbers.


\begin{definition}[Partition]
    Suppose \( a,b \in \R  \) with \( a <  b  \). A \textbf{partition} of \( [a,b] \) is a finite list of the form \( {x}_{0}, {x}_{1}, \dots, {x}_{n} \), where 
    \[  a = {x}_{0} < {x}_{1} < \cdots < {x}_{n} = b. \]
\end{definition}

We can think of closed intervals as union of closed subintervals \( [{x}_{n-1}, {x}_{n}] \) for \( n \geq  1  \); that is,
\[  [a,b] = [{x}_{0}, {x}_{1}] \cup [{x}_{1}, {x}_{2}] \cup \dots \cup [{x}_{n-1}, {x}_{n}]. \]

\begin{definition}[Infimum and Supremum of Functions]
    If \( f \) is a real-valued function and \( A  \) is a subset of the domain of \( f \), then  
    \[ \inf_{A} f = \inf \{ f(x) : x \in A  \} \ \ \text{and} \ \ \sup_{A} f = \sup \{ f(x) : x \in A  \}  \]
\end{definition}

The definition above approximates the area under the graph of a nonnegative function or the signed area corresponding to a real-valued function.

\begin{definition}[Lower and Upper Riemann Sums]
    Suppose \( f: [a,b] \to \R  \) is a bounded function and \( P  \) is a partition \( {x}_{0}, \dots, {x}_{n} \) of \( [a,b] \). The \textbf{Lower Riemann Sum} \( L(f, P, [a,b]) \) and the \textbf{Upper Riemann Sum} \( U(f, P, [a,b]) \) are defined by 
    \[  L(f, P , [a,b] ) = \sum_{ j=1  }^{ n } ({x}_{j} - {x}_{j-1}) \inf_{[{x}_{j-1}, {x}_{j}]} f  \]
    and 
    \[  U(f, P, [a,b]) = \sum_{ j=1  }^{ n  }({x}_{j} - {x}_{j-1}) \sup_{[{x}_{j-1}, {x}_{j}]} f. \]
\end{definition}

\begin{itemize}
    \item The supremums represent an over approximation in terms of the height of each rectangle with \( [{x}_{j-1}, {x}_{j}] \) being the width. 
    \item Infimums are an under approximation compared to the supremum with \( [{x}_{j-1}, {x}_{j}] \) being the width as before.
    \item The next result describes how adjoining more points to a partition \textit{increases} the \textbf{lower Riemann sum} and \textit{decreases}  the \textbf{upper Riemann sum}.
\end{itemize}

\begin{prop}[Inequalities with Riemann Sums]\label{Inequalities with Riemann Sums}
    Suppose \( f: [a,b] \to \R  \) is a bounded function and \( P, P' \) are partitions of \( [a,b] \) such that the list defining \( P  \) is a sublist of the list defining \( P' \) (that is, \( P \subseteq  P' \)). Then 
    \[  L(f,P, [a,b]) \leq L(f, P', [a,b]) \leq U(f, P', [a,b]) \leq U(f,P,[a,b]). \]
\end{prop}
\begin{proof}
    Suppose \( P  \) is the partition \( {x}_{0}, \dots, {x}_{n} \) and \( P' \) is the partition \( {x}_{0}', \dots, {x}_{N}' \) of \( [a,b] \). For each \( j = 1, \dots, n \) (that is, for each subinterval \( [{x}_{j-1}, {x}_{j}] \)), we can find \( k \in \{ 0, \dots, N-1 \} \) and a positive integer \( m  \) such that  
    \[  {x}_{j-1} = {x}_{k}' < {x}_{k+1}' < \dots < {x}_{k+m}' = {x}_{j}. \]
    Observe that
    \begin{align*}
        L(f, P, [a,b]) = ({x}_{j} - {x}_{j-1}) \inf_{[{x}_{j-1}, {x}_{j}]} f &= \sum_{ i=1  }^{  m } ({x}_{k+i}' - {x}_{(k+i)-1}') \inf_{[{x}_{j-1}, {x}_{j}]} f \\
                                                            &\leq \sum_{ i=1  }^{ m  } ({x}_{k+i}' - {x}_{k+i - 1}') \inf_{[{x}_{k+i-1}', {x}_{k+i}']}f \\
                                                            &= L(f, P', [a,b]).
\end{align*}
Thus, we have that \( L(f,P, [a,b]) \leq L(f,P', [a,b]) \). The middle inequality can be proven by observing that the infimum of any set is always less than or equal to the supremum of that set. In regards to the partition \( P'  \), we have \( L(f, P', [a,b]) \leq U(f, P', [a,b]) \). To get the last inequality, we can follow the same argument we used to prove the first inequality. Hence, we have  
    \begin{align*}
        U(f,P ,[a,b]) = ({x}_{j} - {x}_{j-1}) \sup_{[{x}_{j-1}, {x}_{j-1}]} f &= \sum_{ j=1  }^{ m  } ({x}_{k+i} - {x}_{(k+i)-1}) \sup_{[{x}_{j-1}, {x}_{j}]} f \\
                                                                              &\geq  \sum_{ j=1  }^{ m  } ({x}_{k+i} - {x}_{(k+i)-1}) \sup_{[{x}_{k+i}, {x}_{(k+i)-1}]} f \\
                                                                              &= U(f,P', [a,b]).
    \end{align*}
    Thus, we have that \( U(f,P', [a,b]) \leq U(f, P, [a,b]) \) in which we now conclude that
    \[  L(f,P, [a,b]) \leq L(f, P', [a,b]) \leq U(f, P', [a,b]) \leq U(f,P,[a,b]). \]
\end{proof}

\begin{prop}[Lower Riemann Sums \( \leq \) Upper Riemman Sums]
    Suppose \( f: [a,b] \to \R  \) is a bounded function and \( P, P' \) are partitions of \( [a,b] \). Then 
    \[  L(f,P,[a,b]) \leq U(f,P', [a,b]). \]
\end{prop}

\begin{proof}
    Let \( P''  \) be the partition of \( [a,b] \) obtained by unioning partitions \(  P   \) and \( P' \); that is, \( P'' = P \cup P' \). Since \( P'' \subseteq P  \) and \( P'' \subseteq  P' \), we have that 
    \begin{align*}
        L(f, P, [a,b]) &\leq L(f, P'', [a,b]) \\
                       &\leq U(f, P'', [a,b]) \\
                       &\leq U(f, P', [a,b])
    \end{align*}
    by the {\hyperref[Inequalities with Riemann Sums]{result before}}.  
    \end{proof}

Next, we define the upper and lower Riemann integrals.

\begin{definition}[lower and upper Riemann integrals]
    Suppose \( f: [a,b] \to \R  \) is a bounded function. The \textbf{lower Riemann integral} \( L(f,[a,b]) \) and the \textbf{upper Riemann integral} \( U(f,[a,b]) \) of \( f \) are defined by 
    \[ L(f,[a,b]) = \sup_{P} L(f,P,[a,b])     \]
    and
    \[  U(f,[a,b]) = \inf_{P} U(f, P, [a,b]),  \]
    where the supremum and infimum above are taken over all partitions \( P  \) of \( [a,b] \).
\end{definition}

\begin{itemize}
    \item For the first equation above, we are taking the supremum of all the \textbf{Lower Riemann Sums}. This makes sense considering the lower Riemann sums become larger as we add more points to our partition. 
    \item Likewise, adding more points to a partition causes the upper Riemann sum to become smaller, leading to the infimum over all the partitions. 
    \item In both of these cases, we reach a more accurate estimate of the area under the graph of a function.
\end{itemize}

\begin{prop}[Lower Riemann Integral \( \leq  \) Upper Riemann Integral]
    Suppose \( f: [a,b] \to \R  \) is a bounded function. Then 
    \[  L(f,[a,b]) \leq U(f,[a,b]). \]
\end{prop}
\begin{proof}
    Let \( f: [a,b] \to \R  \) be a bounded function. Notice that, by definition, 
    \[  L(f,[a,b]) = \sup_{P} L(f,P,[a,b]); \]
    that is, \( L(f,[a,b]) \) is a supremum over all partitions \( P  \) of all the lower Riemann sums. Using a lemma from undergrad analysis, \( L(f,[a,b]) = \sup_{P} L(f,P,[a,b]) \) if and only if for all \( \epsilon > 0  \), there exists \( L(f,{P}_{\epsilon}, [a,b]) \in \{ L(f,P,[a,b]) : \text{for all} \ P \in P \}   \) such that 
    \[  L(f, [a,b]) - \epsilon < L(f, {P}_{\epsilon}, [a,b]).  \]
    Now, consider the upper Riemann integral \( U(f,[a,b]) \). Since 
    \[  U(f,[a,b]) = \inf \{ U(f,P,[a,b]) :  \text{for all} \ P \in P \}  \]
    and the fact that 
    \[  \{  U(f,P,[a,b]) :  \text{for all} \ P \in P\}  \]
    is a set of supremums (upper bounds of \( f \) over each partition \( P \)), we can see that by {\hyperref[Inequalities with Riemann Sums]{Proposition 1.1.1}} that 
    \[  L(f, [a,b]) - \epsilon < L(f, {P}_{\epsilon}, [a,b]) \leq U(f,[a,b]).  \]
    Since \( \epsilon > 0  \) is arbitrary, we see that \( L(f,[a,b]) \leq U(f,[a,b]) \).
\end{proof}

\begin{definition}[Riemann integrable; Riemann Integral]
    \begin{itemize}
        \item A bounded function on a closed interval is called \textbf{Riemann Integrable} if its lower Riemann integral equals its upper Riemann integral.
        \item If \( f: [a,b] \to \R  \) is Riemann integrable, then the \textbf{Riemann integral} \( \int_{ a }^{ b }  f  \) is defined by
            \[ \int_{ a }^{ b }  f = L(f,[a,b]) = U(f,[a,b]). \]
    \end{itemize}
\end{definition}

\begin{prop}
    Every continuous real-valued function on each closed bounded interval is Riemann integrable.
\end{prop}

\begin{proof}
    Let \( a,b \in \R  \) with \( [a,b] \) being a compact interval. Let \( f: [a,b]  \to \R   \) and let \( P  \) be a partition of \( [a,b] \). Let \( \epsilon > 0  \). Since \( f \) is continuous on the compact interval \( [a,b] \), \( f \) is uniformly continuous and must, therefore, attain its maximum and minimum on \( [a,b] \). Thus, assign \( {M}_{j} = f({y}_{j})     \) and \( {m}_{j} = f({z}_{j}) \) where 
    \[  {M}_{j} = \sup_{x \in [{x}_{j-1}, {x}_{j} ]} f \ \ \text{and} \ \ {m}_{j} = \inf_{x \in [{x}_{j-1}, {x}_{j}]} f.  \]
    Furthermore, there exists a \( \delta > 0   \) such that whenever \( | {y}_{j}   - {z}_{j} | < \delta  \), we have
    \[  | {M}_{j} - {m}_{j} | = | f({y}_{j}) - f({z}_{j}) | < \frac{ \epsilon }{ b - a  }. \]
    Then we have
    \begin{align*}
        U(f,P,[a,b]) - L(f, P, [a,b]) &= \sum_{ j=1  }^{ n } ({M}_{j} - {m}_{j}) ({x}_{j} - {x}_{j-1})  \\
                                      &< \frac{ \epsilon }{ b-a  }  \sum_{ j=1  }^{ n } ({x}_{j} - {x}_{j-1}) \\
                                      &= \frac{ \epsilon }{ (b - a)  }  \cdot (b-a) = \epsilon.
    \end{align*}
    Since \( U(f,[a,b]) \leq U(f,P,[a,b]) \) and \( L(f,[a,b])  \geq L(f,P,[a,b])\), we have
    \[  U(f,[a,b]) - L(f,[a,b]) \leq U(f, P, [a,b]) - L(f, P, [a,b]) < \epsilon. \]
    Since \( \epsilon \) is arbitrary, we must have \( U(f,[a,b]) = L(f,[a,b]) \). Thus, \( f  \) is integrable.
\end{proof}

\begin{prop}[Bounds on Rieman Integral]
    Suppose \( f: [a,b] \to \R  \) is Riemann integrable. Then 
    \[  (b-a) \inf_{[a,b]} f \leq \int_{ a }^{ b }  f \leq (b-a) \sup_{[a,b]} f. \]

\end{prop}
\begin{proof}
    Let \( P  \) be the partition consisting of points \( {x}_{0} = a  \) and \( {x}_{1} = b  \). Since \( f: [a,b] \to \R  \) is Riemann integrable, we have 
    \[  \int_{ a }^{ b } f  = L(f,[a,b]) = U(f,[a,b]). \]
    Starting with the first inequality, observe that
    \begin{align*}
        \int_{ a }^{ b } f  = L(f,[a,b]) \geq L(f, P, [a,b]) = (b-a) \inf_{[a,b]} f.
    \end{align*}
    Observe that the second inequality can be proven by a similar argument 
    \begin{align*}
        \int_{ a }^{ b } f  = U(f,[a,b]) \leq U(f,P,[a,b]) = (b-a) \sup_{[a,b]}f.
    \end{align*}
    Thus, we have reached our desired result that
\[  (b-a) \inf_{[a,b]} f \leq \int_{ a }^{ b }  f \leq (b-a) \sup_{[a,b]} f. \]
\end{proof}

\subsection{Exercises}

\begin{enumerate}
    \item Suppose \( f:[a,b] \to \R  \) is a bounded function such that
        \[  L(f,P,[a,b]) = U(f,P,[a,b]) \]
        for some partition \( P  \) of \( [a,b] \). Prove that \( f \) is a constant function on \( [a,b] \).
        \begin{proof}
         
        \end{proof}
    \item Suppose \( f: [a,b] \to \R  \) is a bounded function. Prove that \( f  \) is Riemann integrable if and only if for each \( \epsilon > 0  \), there exists a partition \( P  \) of \( [a,b] \) such that 
        \[  U(f,P,[a,b]) - L(f,P,[a,b]) < \epsilon. \]
        \begin{proof}
        
        \end{proof}
\end{enumerate}



\end{document}

