\documentclass[11pt,a4paper]{book}
\input{../../../newpreamble.tex}
\usepackage{standalone}
\usepackage{import}

\begin{document}
    
\section{Riemann Integral Is Not Good Enough}

There are three disadvantages of using Riemann integration; that is, Riemann integration does not handle 
\begin{itemize}
    \item Functions with many discontinuities;
    \item Unbounded functions;
    \item Does not work well with limits.
\end{itemize}

\begin{eg}[A function that is not Riemann integrable]
    Define \( f: [0,1] \to \R  \) by 
    \[  f(x) = 
    \begin{cases}
        1 & \text{if } x \text{ is rational} \\
        0 & \text{if } x \text{ is irrational}
    \end{cases}   \]
    If \( [a,b] \subset [0,1] \) with \( a < b  \), then we see that
    \[ \inf_{[a,b]} f = 0 \ \ \text{and} \ \ \sup_{[a,b]} f = 1 \]
    because \( [a,b] \) contains an irrational number and contains a rational number. So, 
    \[  L(f,P,[0,1]) = 0  \ \ \text{and} \ \ U(f,P,[0,1]) = 1 \]
    for every partition \( P  \) of \( [0,1] \). This immediately implies that \( L(f,[0,1]) = 0 \neq 1 = U(f,[0,1]) \) and thus, \( f  \) is not Riemann integrable.
\end{eg}

\begin{eg}[Rieman integration with unbounded functions]
    Define \( f: [0,1] \to \R  \) by 
    \[  f(x) = 
    \begin{cases}
        \frac{ 1 }{ \sqrt{ x }  }  & \text{if } 0 < x \leq 1 \\
        0 & \text{if } x = 0. 
    \end{cases} \]
    If \( {x}_{0}, {x}_{1}, \dots, {x}_{n} \) is a partition of \( [0,1] \), then \( \sup_{[{x}_{0},{x}_{1}]} = \infty  \). This would mean that in every partition \( P \) of \( [0,1] \), we would have \( U(f,P,[0,1]) = \infty  \) if we had applied Riemann integration. But note that the area of this function is \( 2 \) since 
    \[  \lim_{ a \to 0 }  \int_{ a }^{ 1 }  f  - \lim_{ a \to 0 }  (2 - 2 \sqrt{ a } ) = 2. \]
\end{eg}
This can be remedied by other methods seen in introductory Calculus courses, but in general, using Riemann integration over subdomains tends to fail, especially with more complicated functions than the one shown in the example above.

\begin{eg}[Area seems to make sense, but Riemann integral is not defined]
    Let \( {r}_{1}, {r}_{2}, \dots \) be a sequence that includes each rational number in \( (0,1) \) exactly once and that includes no other numbers. For \( k \in \Z^{+} \), define \( {f}_{k} : [0,1] \to \R  \) by 
    \[  {f}_{k}(x) = 
    \begin{cases}
        \frac{ 1 }{ \sqrt{ x - {r}_{k} }  }  & \text{if } x > {r}_{k} \\
        0 & \text{if } x \leq {r}_{k}.
    \end{cases} \]
    Define \( f:[0,1] \to [0,\infty ] \) by 
    \[  f(x) = \sum_{ k=1  }^{ \infty   } \frac{ {f}_{k}(x) }{ 2^{k} }. \]
    Since every nonempty open interval of \( [0,1] \) contains a rational number (Density of \( \Q  \) in \( \R \)), we see that \( f  \) is unbounded on every such subinterval (contains a sequence of rational numbers). However, the area under the graph of each \( {f}_{k} \) is less than \( 2  \). The formula defining \( f  \) then shows that we should expect the area under the graph of \( f  \) to be less than \( 2  \) rather than being undefined. 
\end{eg}

\begin{prop}[Interchanging Riemann integral and limit]
    Suppose \( a,b,M \in \R  \) with \( a < b  \). Suppose \( {f}_{1}, {f}_{2}, \dots  \) is a sequence of Riemann integrable functions on \( [a,b] \) such that   
    \[  | {f}_{k }(x)| \leq  M   \] for all \( k \in \Z^{+}   \) and all \(  x \in [a,b] \). Suppose \( \lim_{ k  \to  \infty  }  {f}_{k}(x) \) exists for each \( x \in [a,b] \). Define \( f: [a,b] \to \R  \) by
    \[  f(x) = \lim_{ k  \to  \infty  {f}_{k}(x) }.  \] 
    If \( f \) is Riemann integrable on \( [a,b] \), then
    \[  \int_{ a }^{ b } f = \lim_{ k  \to  \infty   }  \int_{ a }^{ b }  {f}_{k}. \]
\end{prop}

We have the following problems with the result above:

\begin{itemize}
    \item We have to assume that \( f  \) is Riemann integrable. 
    \item The result follows even if \( f  \) is not Riemann integrable (Of course, assuming all the other hypotheses hold true). 
    \item The proof of the result above is intricate and delicate. We should find that the proof should be "simple".
\end{itemize}



\end{document}

