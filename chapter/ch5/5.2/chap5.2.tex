\section{Derivatives and the IVP}

\subsection{Definition of the Derivative}

\begin{tcolorbox}
    \begin{defn}[Differentiability]
    Let \( g : A \to \R  \) be a function defined on an interval \( A  \). Given \( c \in A  \), the \textit{derivative} of \( g  \) at \( c  \) is defined by 
    \[ g'(c) = \lim_{ x \to c } \frac{ g(x) - g(c)  }{ x - c  }, \]
    provided this limit exists. In this case, we say that \( g  \) is \textit{differentiable} at \( c  \). If \( g'  \) exists for all points \( c \in A  \), we say that \( g  \) is \textit{differentible} on \( A  \).
    \end{defn}
\end{tcolorbox}


\begin{ex}
\begin{enumerate}
    \item[(i)] Consider the function \( f(x) = x^n  \), where \( n \in \N  \), and let \( c  \) be any arbitrary point in \( \R  \). Using the following identity, 
        \[  x^n - c^n = (x -c )(x^{n-1} + cx^{n-2} + c^2 x^{n-3} + \dots + c^{n-1}) \]
        we can take the limit 
        \begin{align*}
            f'(c) &= \lim_{ x \to c  } \frac{ x^n - c^n  }{ x - c  }  \\
                  &= \lim_{ x \to c } (x^{n-1} + cx^{n-2} + c^2 x^{n-3} + \dots + c^{n-1}) \\
                  &= c^{n-1} + c^{n-1} + c^{n-1} + \dots + c^{n-1} \\
                  &= nc^{n-1}\\
        \end{align*}
    \item[(ii)] If \( g(x) = | x  |  \), then if we want to take the derivative at \( c =0  \) produces the following limit
        \[  g'(0) = \lim_{ x \to 0 } \frac{ | x |  }{ x }  \]
        which is \( 1 \) if we approach from the right and \( -1 \) if we approach from the left. Hence, we have that \(g'(c) =  0  \) does not exist.
\end{enumerate}
\end{ex}

This last example should remind us that continuity of a function does not necessarily imply that a function is differentiable. On the other hand, we can say that if \( g \) is differentiable at a point then \( g  \) is continuous at that point. 

\begin{tcolorbox}
\begin{thm}
If \( g: A \to \R  \) is differentiable at a point \( c \in A  \), then \( g  \) is continuous at \( c  \) as well.
\end{thm}
\end{tcolorbox}

\begin{proof}
Assume \( g: A \to \R  \) is differentiable at a point \( c \in A  \). Hence, we have that the following limit exists
    \[ g'(c) = \lim_{ x \to c } \frac{ g(x) - g(c)  }{ x - c  }. \]
    Using the Algebraic Limit Theorem for functional limits, we have that 
    \[  \lim_{ x \to c  } (g(x) - g(c) ) = \lim_{ x \to c  } \Big( \frac{ g(x) - g(c)  }{ x - c  }  \Big) (x - c) = g'(c) \cdot 0 = 0. \]
    Hence, it follows that \( \lim_{ x \to c  } g(x) = g(c). \)
\end{proof}

We can prove the same fact using the epsilon-delta definition for functional limits. 
\begin{proof}
Assume \( g: A \to \R  \) is differentiable at at a point \( c \in A  \). Let \( \epsilon > 0  \). Then we can find a \( \delta > 0  \) such that whenever \( 0 < | x - c  | < \delta  \), we have that
    \[ g'(c) = \lim_{ x \to c } \frac{ g(x) - g(c)  }{ x - c  }. \]
    With a few algebraic manipulations, we can manipulate the above to state that
    \[  | g(x) - g(c) - g(c)(x-c)  | <  | x - c  | \tag{1}  \]
    with \( \epsilon = 1  \).
Using the triangle inequality and choosing \( \delta = \min \{ 1 , \epsilon / (1   + | g(c) | ) \}  \) 
\begin{align*}
    | g(x) - g(c)  | &= | g(x) - g(c)(x-c) + g(c)(x-c) -  g(c) |  \\
                     &\leq | g(x) - g(c)(x-c) | + | g(c)(x-c) - g(c) | \\
                     &< | x - c  | + | g(c)  | | x - c  | \\
                     &= | x - c  | (1 + | g(c) | ) \\
                     &<  \delta \cdot (1 + | g(c)  | ) \\
                     &= \frac{ \epsilon  }{ 1 + | g(c)  |  }  \cdot (1 + | g(c)  | ) \\
                     &= \epsilon.
\end{align*}
Hence, \( g  \) is continuous at \( c \in A  \).
\end{proof}

\subsection{Combinations of Differentiable Functions}

We can use the Algebraic Limit Theorem for functional limits to prove some basic algebraic combinations of differentiable functions.

\begin{tcolorbox}
    \begin{thm}[Algebraic Differentiability Theorem]
    Let \( f  \) and \( g  \) be functions defined on an interval \( A  \), and assume both are differentiable at some point \( c \in A \). Then, 
    \begin{enumerate}
        \item[(i)] \( (f+g)'(c) = f'(c) + g'(c), \)
        \item[(ii)] \( (kf)'(c) = kf'(c), \) for all \( k \in \R  \),
        \item[(iii)] \( (fg)'(c) = f'(c)g(c) + f(c)g'(c),  \) and 
        \item[(iv)] \( (f/g)'(c) = \frac{ g(c)f'(c) - f(c)g'(c)  }{ [g(c)]^2 }  \) provided that \( g(c) \neq  0 \).
    \end{enumerate}
    \end{thm}
\end{tcolorbox}

\begin{enumerate}
    \item[(i)] \( (f+g)'(c) = f'(c) + g'(c)  \).
        \begin{proof}
        Assume \( f  \) and \( g  \) are functions that are both differentiable at some point \( c \in A  \). Since \( (f+g)(x) = f(x) + g(x)  \) and the Algebraic Function Limit Theorem, we have that
        \begin{align*}
            (f+g)'(x) &= \lim_{ x \to c } \frac{ (f+g)(x) - (f+g)(c) }{ x - c  }  \\
                      &= \lim_{ x \to c } \frac{ f(x) + g(x) - (f(c) + g(c) ) }{ x - c  } \\
                      &= \lim_{ x \to c  } \frac{ ( f(x) - f(c)) + (g(x) - g(c)) }{ x - c  } \\
                      &= \lim_{ x \to c  } \Big(  \frac{ f(x) - f(c)  }{ x - c  } + \frac{ g(x) - g(c)   }{ x - c  }  \Big) \\
                      &= \lim_{ x \to c  }  \frac{ f(x) - f(c)  }{ x - c  } + \lim_{ x \to c  } \frac{ g(x) - g(c)  }{ x - c  } \\
                      &= f'(c) + g'(c).
        \end{align*}
        \end{proof}
    \item[(ii)] \( (kf)'(c) = k f'(c)  \) for all \( k \in \R  \).
        \begin{proof}
        Since \( f  \) is differentiable at \( c \in A  \), we have that 
        \begin{align*}
            (kf)'(c) &= \lim_{ x \to c  } \frac{ (kf)(x) - (kf)(c)  }{ x - c  }  \\
                     &= \lim_{ x \to c  }  \frac{ k f(x) - k f(c)  }{ x - c  } \\
                     &= \lim_{ x \to c  } \frac{ k (f(x) - f(c) ) }{ x - c  } \\
                     &=k \cdot  \lim_{ x \to c  } \frac{ f(x) - f(c) }{ x - c  } \\
                     &= k f'(c).
        \end{align*}
        \end{proof}
    \item[(iii)] \( (fg)'(c)  = f'(c)g(c) + f(c)g'(c). \)
        \begin{proof}
        Let \( f  \) and \( g  \) be differentiable at some point \( c \in A  \).  By using the Algebraic Function Limit Theorem, we have that 
        \begin{align*}
            (fg)'(c)  &= \lim_{ x \to c  } \frac{ (fg)(x) - (fg)(c) }{ x - c  }  \\
                      &= \lim_{ x \to c  } \frac{ f(x)g(x) - f(c)g(c)  }{ x - c  } \\
                      &= \lim_{ x \to c  } \frac{ f(x)g(x) - f(x)g(c) + f(x)g(c) - f(c)g(c) }{ x - c   } \\
                      &= \lim_{ x \to c  }  \Big(  \frac{ f(x) (g(x) - g(c))  }{ x - c   }  + \frac{  g(c) (f(x) - f(c))  }{ x - c  } \Big) \\ 
                      &= \lim_{ x \to c  } \frac{ f(x) (g(x) - g(c) ) }{ x - c  } + \lim_{ x \to c  } \frac{ g(c) (f(x) - f(c) ) }{ x - c  } \tag{ALFT} \\ 
                      &= \lim_{ x \to c  } f(x)  \Big( \lim_{ x \to c  } \frac{ g(x) - g(c)  }{ x - c  }  \Big) + g(c) \cdot \lim_{ x \to c  } \frac{ f(x) - f(c)  }{ x - c  }   \\
                      &= f(c) g'(c) + g(c)f'(c).
        \end{align*}
        Hence, we have that \( (fg)'(c) = f(c)g'(c) + f'(c)g(c) \).
        \end{proof}
    \item[(iv)] \( (f/g)'(c) = \frac{ g(c)f'(c) - f(c)g'(c)  }{ [g(c)]^2  }  \).
        \begin{proof}
        Let \( f  \) and \( g  \) be differentiable functions where \( g(x) \neq 0  \) for all \( x \in A   \). Note that since \(f \) and \( g  \) are differentiable, they are also continuous on \( A  \). Hence, \( \lim_{ x \to c  } f(x) = f(c)  \) and \( \lim_{ x \to c  } g(x) = g(c)  \). Then observe that 
        \begin{align*}
            (f/g)'(c) &= \lim_{ x \to c  } \frac{ (f/g)(x) - (f/g)(c)  }{ x - c  }  \\
                      &= \lim_{ x \to c  } \frac{ f(x) / g(x) - f(c) / g(c)  }{ x - c  } \\
                      &= \lim_{ x \to c  } \Big[ \frac{ 1 }{ g(x) g(c)  } \cdot \frac{ g(x) (f(x) - f(c)) - f(x) (g(x) - g(c) ) }{ x - c   } \Big] \\ 
                      &= \lim_{ x  \to c  } \Big( \frac{ 1 }{ g(x) g(c) }  \Big) \lim_{ x \to c  } \Big( \frac{ g(x) (f(x) - f(c) )  - f(x) (g(x) - g(c) )}{ x - c  }  \Big) \\
                      &= \lim_{ x \to c  } \Big( \frac{ 1 }{ g(x) g(c)  }  \Big) \lim_{ x \to c  } \Big( g(x) \frac{ f(x) - f(c)  }{ x - c  } - f(x) \frac{ g(x) - g(c)  }{ x - c  }  \Big) \\
                      &= \lim_{ x \to c  } \Big( \frac{ 1 }{ g(x) g(c)  }   \Big) \Big( \lim_{ x \to c  } g(x) \frac{ f(x) - f(c)  }{ x - c  } - \lim_{ x \to c  } f(x) \frac{ g(x) - g(c)  }{ x - c  }  \Big) \\
                      &= \frac{ 1 }{ [g(c)]^2  } \cdot (g(c) f'(c) - f(c)g'(c) ). \\ 
        \end{align*}
        \end{proof}
\end{enumerate}

We can also compose two differentiable functions together and still get a differentiable function. This next fact is called the chain rule. A way to prove this fact is to use the following:
\begin{align*}
   (g \circ f)'(c) &= \lim_{ x \to c  } \frac{ g(f(x)) - g(f(c) ) }{ x - c  }  \\
                   &= \lim_{ x \to c  } \frac{ g(f(x) ) - g(f(c) ) }{ x - c  } \\
                   &= g'(f(c) ) \cdot f'(c).
\end{align*}
But an issue with this proof is that the expression \( f(x) - f(c)  \) might be zero in the denominator for arbitrarily small neighborhoods of \( c  \).

\begin{tcolorbox}
    \begin{thm}[Chain Rule]
    Let \( f: A \to \R  \) and \( g: B \to \R  \) satisfy \( f(A) \subseteq B  \) so that the composition \(  g  \circ f \) is defined. If \( f  \) is differentiable at \( c \in A  \) and if \( g  \) is differentiable at \( f(c) \in B   \), then \( g \circ f  \) is differentiable at \( c  \) with \( (g \circ f)'(c) = g'(f(c)) \cdot f'(c)\).
    \end{thm}
\end{tcolorbox}

\begin{proof}
Assume \( g  \) is differentiable at \( f(c)  \). Then we have that 
\[  g'(f(c) )  = \lim_{ y  \to f(c)  }  \frac{ g(y) - g(f(c)) }{ y - f(c)  }.\]
We can rewrite the quotient in the limit above by setting \( d(y)  \) to be the following:
\[  d(y) = \frac{ g(y) -  g(f(c) ) }{ y - f(c)  }. \]
This is equivalent to \( \lim_{ y \to f(c)  } d(y) = g'(f(c) ) \). The issue at the moment is when we set \( y = f(c)   \), \( d(y)  \) becomes undefined. But this can be mitigated by rewriting \( d(y)  \) like 
\[  g(y) - g(f(c)) = d(y) (y - f(c)) \tag{1} \]
which hold for all \( y \in B  \) including \( y = f(c)  \). Hence, we are allowed to substitute \( y = f(t)  \) for any arbitrary \( t \in A  \) into \( d(y)  \). If \( t \neq c  \), we can divide (1) by \( (t - c ) \) to get 
\[  \frac{ g(f(t) - g(f(c) )) }{ t - c  } = d(f(t)) \frac{ f(t) - f(c)  }{ t - c  }. \]
Hence, we have that 
\begin{align*}
    (g \circ f)'(c) &= \lim_{ x \to c  }  \frac{ g(f(x)) - g(f(c)) }{ x - c   } \\
                    &= \lim_{ x \to c  } \Big( \frac{ g(f(x))  - g(f(c) )}{f(x) - f(c)  } \cdot \frac{ f(x) - f(c) }{ x - c  } \Big) \\
                    &= g'(f(c)) \cdot f'(c)
\end{align*}
\end{proof}

\subsection{Darboux's Theorem}

A takeaway from our introduction to Derivatives is that differentiable functions need always be continuous and that our main example for this is for \( n = 2  \) with the function \( g_2(x) = x^2 \sin( 1 / x) \) where \( g_2(0)  \). However, differentiable functions do posses the intermediate value property. This leads us to next theorem that says that functions attain their max and mins at points where the derivative is zero. 

\begin{tcolorbox}
    \begin{thm}[Interior Extremum Theorem] Let \( f  \) be differentiable on an open interval \( (a,b)  \). If \( f  \) attains a maximum value at some point \( c \in (a,b)  \); that is, \( f(c) \geq f(x)  \) for all \( x \in (a,b)  \), then \( f'(c) = 0  \). The same is true if \( f(c)  \) is a minimum value.

\end{thm}
\end{tcolorbox}

\begin{proof}
    Since \( c  \) is in an open interval \( (a,b) \), we can construct two sequences \( (x_n), (y_n) \subseteq (a,b)  \) such that both sequences converge to \( c \in (a,b)  \) and satisfy \( x_n < c < y_n  \) for all \( n \in \N  \). Since \( f  \) attains its maximum value at some point \( c \in (a,b)  \), we have that for all \( n \in \N  \), \( f(y_n) \leq f(c)  \). Hence, we can say that 
    \[  f(y_n) - f(c) \leq 0. \]
    Dividing by \( (y_n - c ) \) and using the Order Limit Theorem gives us the following
    \[  f'(c) = \lim_{ n \to \infty   } \frac{ f(y_n) - f(c)  }{ y_n - c  } \leq 0 \tag{1}. \]
    Now if \( f  \) attains a minimum, we have \( f(x_n) - f(c) \geq 0  \) for all \( n \in \N  \) which implies further that 
    \[  f'(c) = \lim_{ n \to \infty  } \frac{ f(x_n) - f(c)  }{ x_n - c  } \geq 0 \]
    by the Order Limit Theorem.
\end{proof}

This theorem leads to a very important result about differntiable functions containing the intermediate value property.

\begin{tcolorbox}
    \begin{thm}[Darboux's Theorem]
    If \( f  \) is differentiable on an interval \( [a,b]  \), and if \( \alpha  \) satisfies \( f'(a) < \alpha < f'(b)  \) (or \( f'(a) > \alpha > f'(b)  \) ), then there exists a point \( c \in (a,b)  \) where \( f'(c) = \alpha \).
    \end{thm}
\end{tcolorbox}

\begin{proof}
    We can define a new function \( g(x) = f(x) - \alpha x  \) on \( [a,b]  \). Since \( g  \) is differentiable on \( [a,b]  \) with \( g'(x)  = f'(x) - \alpha  \) and that \( g'(a) < 0 < g'(b)  \), we want to show that \( g'(c) = 0  \) for some \( c \in (a,b)  \).
\end{proof}

\subsection{Exercises}










